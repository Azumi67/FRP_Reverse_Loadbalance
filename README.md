![R (2)](https://github.com/Azumi67/PrivateIP-Tunnel/assets/119934376/a064577c-9302-4f43-b3bf-3d4f84245a6f)
نام پروژه : لود بالانس V2ray توسط ریورس تانل FRP :
[ امکان لودبالانس بین 10 سرور خارج و 1 تا 2 سرور ایران | 3 سرور ایران و 1 سرور خارج ]
---------------------------------------------------------------
---------------
![Update-Note--Arvin61r58](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/e1bc4187-16f2-40f8-972b-436e79a1ca0e)**اپدیت**

- **نام enter the number of ipv6 به enter the number of configs برای فهم بهتر تغییر کرد. FRP TCP > IPV6 Method**
- **به TCP Tunnel هم سرویس ریست تایم 2 ساعته اضافه شد**
- **نکته** : **اگر میخواهیید از چندین پورت همزمان استفاده کنید ، اگر 5 تا پورت دارید تعداد ایپی 6 را 5 انتخاب کنید. اینطوری میتونید 5 تا پورت وارد کنید و باگ نیست . در حال حاضر نام را به number of configs[ipv6] تغییر دادم.**
- به لودبالانس 10 سرور و یک سرور ایران ، دستورات برای kill و ریستارت سرویس اضافه شد.
- تا اطلاع ثانوی 10 سرور خارج به دو سرور ایران حذف میشود تا بیشتر بررسی کنم.
- استفاده از FRP کاملا به عهده شما میباشد. لطفا قبل از نصب و کانفیگ آن به این مورد فکر کنید. کسی شما را مجبور به استفاده از FRP نکرده است. ممنونم
- لطفا اگر سرور شما منابع کافی ندارد ، از افزودن تعداد بالای سرور خارج برای لود بالانس FRP بپرهیزید که مشکل دار نشید.
- همیشه بر روی سرور تست، نخست تانل را آزمایش کنید و در صورت رضایت اقدام به انجام آن کنید.
- حالا میتوانید 10 سرور خارج را با دو روش مختلف به یک سرور ایران متصل کنید ( تمامی مراحل مانند قبل میباشد) - استفاده از لوکال ایپی راحت تر است.
- پورت دیفالت 443 حذف شد و باید از این بعد خودتان پورت مد نظرتون را برای تانل وارد نمایید. پیشنهاد میشه که از 443 استفاده کنید.
- پورت لودبالانس همچنان از 8443 استفاده خواهد کرد ولی پورت تانل را باید خودتان وارد نمایید.
- تمام مراحل مانند قدیم میباشد و فقط باید پورت تانل را خودتان وارد نمایید.

![R (5)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/d35672ee-00e4-4521-b4ba-6805f42a82f7)**از ماهان اقا ممنونم که وقت گذاشتن و اسکریپت را تست کردن که بتونم اسکریپت را بهتر کنم**

---------------------------------

![youtube-131994968075841675](https://github.com/Azumi67/FRP-V2ray-Loadbalance/assets/119934376/24202a92-aff2-4079-a6c2-9db14cd0ecd1)
**ویدیوی آموزش**
- پارت اول : ویدیوی آموزشی توسط 69 (از ایشان با subscribe کردن، حمایت کنید)
- **نکته** : **اگر میخواهیید از چندین پورت همزمان استفاده کنید ، اگر 5 تا پورت دارید تعداد ایپی 6 را 5 انتخاب کنید. اینطوری میتونید 5 تا پورت وارد کنید و باگ نیست . در حال حاضر نام را به number of configs[ipv6] تغییر دادم.**
<div align="right">

[![Video Title](https://img.youtube.com/vi/D5-n79tJkeY/0.jpg)](https://www.youtube.com/watch?v=D5-n79tJkeY)

</div>

-----------------------------------------

![307981](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/39b2794b-fd04-4ae5-baea-d4b66138766e)
 **فهرست :**


 ----------------------


  
**فهرست ها**
- **دسترسی سریع به اسکریپت** >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%A7%D8%B3%DA%A9%D8%B1%DB%8C%D9%BE%D8%AA-%D9%85%D9%86)**
- **اسکریپت های کارآمد**  >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%A7%D8%B3%DA%A9%D8%B1%DB%8C%D9%BE%D8%AA-%D9%87%D8%A7%DB%8C-%DA%A9%D8%A7%D8%B1%D8%A2%D9%85%D8%AF-)**
- **امکانات** >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/blob/main/README.md#%D8%A7%D9%85%DA%A9%D8%A7%D9%86%D8%A7%D8%AA)**

**استفاده از IPV4/IPV6 :** 
- **ریورس تانل بدون لود بالانس** >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%B1%DB%8C%D9%88%D8%B1%D8%B3-%D8%AA%D8%A7%D9%86%D9%84-%D8%A8%D8%AF%D9%88%D9%86-%D9%84%D9%88%D8%AF-%D8%A8%D8%A7%D9%84%D8%A7%D9%86%D8%B3--%D8%AA%DA%A9-%D9%BE%D9%88%D8%B1%D8%AA-%DB%8C%D8%A7-%DA%86%D9%86%D8%AF%DB%8C%D9%86-%D9%BE%D9%88%D8%B1%D8%AA-)**
-  **ریورس تانل با لود بالانس : تک سرور** >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%B1%DB%8C%D9%88%D8%B1%D8%B3-%D8%AA%D8%A7%D9%86%D9%84-%D8%A8%D8%A7-%D9%84%D9%88%D8%AF-%D8%A8%D8%A7%D9%84%D8%A7%D9%86%D8%B3---%D8%AA%DA%A9-%D8%B3%D8%B1%D9%88%D8%B1--%D8%AA%DA%A9-%D9%BE%D9%88%D8%B1%D8%AA-%DB%8C%D8%A7-%DA%86%D9%86%D8%AF%DB%8C%D9%86-%D9%BE%D9%88%D8%B1%D8%AA-)**
-  **لود بالانس 10 سرور خارج 1 سرور ایران** >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%B1%DB%8C%D9%88%D8%B1%D8%B3-%D8%AA%D8%A7%D9%86%D9%84-%D8%A8%D8%A7-%D9%84%D9%88%D8%AF-%D8%A8%D8%A7%D9%84%D8%A7%D9%86%D8%B3---5-%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC--1-%D8%B3%D8%B1%D9%88%D8%B1-%D8%A7%DB%8C%D8%B1%D8%A7%D9%86--%D8%AA%DA%A9-%D9%BE%D9%88%D8%B1%D8%AA-%DB%8C%D8%A7-%DA%86%D9%86%D8%AF%DB%8C%D9%86-%D9%BE%D9%88%D8%B1%D8%AA-)**
   - **سرور ایران** >>  **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/blob/main/README.md#-%D8%B3%D8%B1%D9%88%D8%B1-%D8%A7%DB%8C%D8%B1%D8%A7%D9%86)**
   - **سرور خارج اول المان :**  
     - روش ایپی 6 >>    **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/blob/main/README.md#-%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%A7%D9%88%D9%84-%D8%A7%D9%84%D9%85%D8%A7%D9%86-%D8%B1%D9%88%D8%B4-%D8%A7%D9%88%D9%84---%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-ipv6)**
     - روش لوکال ایپی >>  **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/blob/main/README.md#%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%A7%D9%84%D9%85%D8%A7%D9%86-%D8%B1%D9%88%D8%B4-%D8%AF%D9%88%D9%85---%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D9%84%D9%88%DA%A9%D8%A7%D9%84-%D8%A7%DB%8C%D9%BE%DB%8C)**
   - **سرور خارج دوم ترکیه :**
      - روش ایپی 6  >>   **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/blob/main/README.md#-%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%AF%D9%88%D9%85-%D8%AA%D8%B1%DA%A9%DB%8C%D9%87-%D8%B1%D9%88%D8%B4-%D8%A7%D9%88%D9%84---%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-ipv6)**
       - روش لوکال ایپی >>  **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/blob/main/README.md#%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%AF%D9%88%D9%85-%D8%AA%D8%B1%DA%A9%DB%8C%D9%87-%D8%B1%D9%88%D8%B4-%D8%AF%D9%88%D9%85---%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D9%84%D9%88%DA%A9%D8%A7%D9%84-%D8%A7%DB%8C%D9%BE%DB%8C)**
- **لود بالانس 3 سرور ایران 1 سرور خارج** >>  **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%B1%DB%8C%D9%88%D8%B1%D8%B3-%D8%AA%D8%A7%D9%86%D9%84-%D8%A8%D8%A7-%D9%84%D9%88%D8%AF-%D8%A8%D8%A7%D9%84%D8%A7%D9%86%D8%B3---3-%D8%B3%D8%B1%D9%88%D8%B1-%D8%A7%DB%8C%D8%B1%D8%A7%D9%86--1-%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC--%D8%AA%DA%A9-%D9%BE%D9%88%D8%B1%D8%AA-%DB%8C%D8%A7-%DA%86%D9%86%D8%AF%DB%8C%D9%86-%D9%BE%D9%88%D8%B1%D8%AA-)**
  - سرور ایران >>   **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#-%D8%B3%D8%B1%D9%88%D8%B1-%D8%A7%D9%88%D9%84-%D8%A7%DB%8C%D8%B1%D8%A7%D9%86)**
  - سرور خارج روش ایپی 6 >>  **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/tree/main#%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%B1%D9%88%D8%B4-%D8%A7%D9%88%D9%84-ipv6)**
  - سرور خارج روش لوکال ایپی >>  **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/tree/main#%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%B1%D9%88%D8%B4-%D8%AF%D9%88%D9%85-%D9%84%D9%88%DA%A9%D8%A7%D9%84-%D8%A7%DB%8C%D9%BE%DB%8C)**

**با پرایوت ایپی**  >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#-%D9%84%D9%88%D8%AF%D8%A8%D8%A7%D9%84%D8%A7%D9%86%D8%B3-%D8%A8%D8%A7-%D9%BE%D8%B1%D8%A7%DB%8C%D9%88%D8%AA-%D8%A7%DB%8C%D9%BE%DB%8C)**
- **آموزش** >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%A2%D9%85%D9%88%D8%B2%D8%B4-%D9%84%D9%88%D8%AF-%D8%A8%D8%A7%D9%84%D8%A7%D9%86%D8%B3-%D8%A8%D8%A7-%D9%BE%D8%B1%D8%A7%DB%8C%D9%88%D8%AA-%D8%A7%DB%8C%D9%BE%DB%8C)**
- **پیش نیازها** >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D9%BE%DB%8C%D8%B4-%D9%86%DB%8C%D8%A7%D8%B2%D9%87%D8%A7)**
- **ریورس تانل با پرایوت ایپی بدون لود بالانس** >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%B1%DB%8C%D9%88%D8%B1%D8%B3-%D8%AA%D8%A7%D9%86%D9%84-%D8%A8%D8%AF%D9%88%D9%86-%D9%84%D9%88%D8%AF-%D8%A8%D8%A7%D9%84%D8%A7%D9%86%D8%B3-%D8%A8%D8%A7-%D9%BE%D8%B1%D8%A7%DB%8C%D9%88%D8%AA-%D8%A7%DB%8C%D9%BE%DB%8C----%D8%AA%DA%A9-%D9%BE%D9%88%D8%B1%D8%AA-%DB%8C%D8%A7-%DA%86%D9%86%D8%AF%DB%8C%D9%86-%D9%BE%D9%88%D8%B1%D8%AA-)**
- **ریورس تانل با لود بالانس - تک سرور [ استفاده از Native IPV6 و پرایوت ایپی]**  >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%B1%DB%8C%D9%88%D8%B1%D8%B3-%D8%AA%D8%A7%D9%86%D9%84-%D8%A8%D8%A7-%D9%84%D9%88%D8%AF-%D8%A8%D8%A7%D9%84%D8%A7%D9%86%D8%B3---%D8%AA%DA%A9-%D8%B3%D8%B1%D9%88%D8%B1--%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-native-ipv6-%D9%88-%D9%BE%D8%B1%D8%A7%DB%8C%D9%88%D8%AA-%D8%A7%DB%8C%D9%BE%DB%8C)**
- **پرایوت ایپی 5 سرور خارج و 1 سرور ایران**  >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#5-%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D9%88-1-%D8%B3%D8%B1%D9%88%D8%B1-%D8%A7%DB%8C%D8%B1%D8%A7%D9%86)**
- **ریورس تانل با لود بالانس - 5 سرور خارج | 1 سرور ایران [ استفاده از Native IPV6 و پرایوت ایپی ]**  >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%B1%DB%8C%D9%88%D8%B1%D8%B3-%D8%AA%D8%A7%D9%86%D9%84-%D8%A8%D8%A7-%D9%84%D9%88%D8%AF-%D8%A8%D8%A7%D9%84%D8%A7%D9%86%D8%B3---5-%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC--1-%D8%B3%D8%B1%D9%88%D8%B1-%D8%A7%DB%8C%D8%B1%D8%A7%D9%86--%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-native-ipv6-%D9%88-%D9%BE%D8%B1%D8%A7%DB%8C%D9%88%D8%AA-%D8%A7%DB%8C%D9%BE%DB%8C-)**
  - سرور ایران  >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#-%D8%B3%D8%B1%D9%88%D8%B1-%D8%A7%DB%8C%D8%B1%D8%A7%D9%86-%D9%BE%D8%B1%D8%A7%DB%8C%D9%88%D8%AA-%D8%A7%DB%8C%D9%BE%DB%8C)**
- **سرور خارج اول ترکیه :** 
  - سرور خارج اول (ترکیه) روش اول - استفاده از IPV6 >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#-%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%A7%D9%88%D9%84-%D8%AA%D8%B1%DA%A9%DB%8C%D9%87-%D8%B1%D9%88%D8%B4-%D8%A7%D9%88%D9%84---%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-ipv6)**
  - سرور خارج اول (ترکیه) روش دوم - استفاده از لوکال ایپی >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%A7%D9%88%D9%84-%D8%AA%D8%B1%DA%A9%DB%8C%D9%87-%D8%B1%D9%88%D8%B4-%D8%AF%D9%88%D9%85---%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D9%84%D9%88%DA%A9%D8%A7%D9%84-%D8%A7%DB%8C%D9%BE%DB%8C)**
- **سرور خارج دوم المان :** 
  - سرور خارج دوم (آلمان) روش اول - استفاده از IPV6  >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#-%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%AF%D9%88%D9%85-%D8%A2%D9%84%D9%85%D8%A7%D9%86-%D8%B1%D9%88%D8%B4-%D8%A7%D9%88%D9%84---%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-ipv6)**
  - سرور خارج دوم (آلمان) روش دوم - استفاده از لوکال ایپی  >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers#%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%AF%D9%88%D9%85-%D8%A2%D9%84%D9%85%D8%A7%D9%86-%D8%B1%D9%88%D8%B4-%D8%AF%D9%88%D9%85---%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D9%84%D9%88%DA%A9%D8%A7%D9%84-%D8%A7%DB%8C%D9%BE%DB%8C)**
-  **لود بالانس 3 سرور ایران 1 سرور خارج** >>  **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/blob/main/README.md#%D8%B1%DB%8C%D9%88%D8%B1%D8%B3-%D8%AA%D8%A7%D9%86%D9%84-%D8%A8%D8%A7-%D9%84%D9%88%D8%AF-%D8%A8%D8%A7%D9%84%D8%A7%D9%86%D8%B3---3-%D8%B3%D8%B1%D9%88%D8%B1-%D8%A7%DB%8C%D8%B1%D8%A7%D9%86--1-%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC--%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87-%D8%A7%D8%B2-%D9%BE%D8%B1%D8%A7%DB%8C%D9%88%D8%AA-%D8%A7%DB%8C%D9%BE%DB%8C-%D9%88-native-ipv6-)**
  - سرور ایران >>   **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/blob/main/README.md#-%D8%B3%D8%B1%D9%88%D8%B1-%D8%A7%D9%88%D9%84-%D8%A7%DB%8C%D8%B1%D8%A7%D9%86-1)**
  - سرور خارج روش ایپی 6 >>  **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/blob/main/README.md#%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%AA%D8%B1%DA%A9%DB%8C%D9%87-%D8%B1%D9%88%D8%B4-%D8%A7%D9%88%D9%84-ipv6-%D9%88-%D9%BE%D8%B1%D8%A7%DB%8C%D9%88%D8%AA-%D8%A7%DB%8C%D9%BE%DB%8C)**
  - سرور خارج روش لوکال ایپی >>  **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/blob/main/README.md#%D8%B3%D8%B1%D9%88%D8%B1-%D8%AE%D8%A7%D8%B1%D8%AC-%D8%B1%D9%88%D8%B4-%D8%AF%D9%88%D9%85-%D9%84%D9%88%DA%A9%D8%A7%D9%84-%D8%A7%DB%8C%D9%BE%DB%8C-1)**
- **سورس ها** >> **[کلیک](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/blob/main/README.md#%D8%B3%D9%88%D8%B1%D8%B3-%D9%87%D8%A7)**
----------------------------------
**توضیح کوتاه:**

----------------------
-  با آزمون و خطا میتوانید موفق به برقراری ریورس تانل و لود بالانس شوید.
-  مرزبان با یک node تست کردم و جواب داده. 
-  برای مشاهده وضعیت سرویس ها به قسمت Status و سرویس مربوطه بروید.
-  میتوانید هر تانل را به صورت جداگانه در بخش uninstall، پاک نمایید.
-  پنل v2ray از هر مدل، در سرور خارج نصب شده باشد.
-  پورت دیفالت استفاده شده در FRP، پورت 8443 میباشد. این پورت را نمیتوانید استفاده کنید.
-  ممکن است خطاهایی در اسکریپت باشد که چون وقت زیادی نداشتم ، بررسی نکردم و مشغول درس خواندن بودم. پیشاپیش ببخشید.

------------------------
![check](https://github.com/Azumi67/PrivateIP-Tunnel/assets/119934376/13de8d36-dcfe-498b-9d99-440049c0cf14)
**امکانات**
---------------------

- ریورس تانل بر روی تک پورت و چندین پورت
- لود بالانس بر روی تک سرور - تک پورت و چندین پورت
- لود بالانس 10 سرور خارج و 1 سرور ایران - تک پورت و چندین پورت [ امکان استفاده از Native IPV6 یا Private IP ]
- امکان لود بالانس با دو روش متفاوت : 1) با استفاده از لوکال ایپی سرور 2) با استفاده از ایپی 6 به ازای هر پورت و گروه لود بالانس
- لود بالانس 3 سرور ایران و 1 سرور خارج - تک پورت و چندین پورت [ امکان استفاده از Native IPV6 یا Private IP ]
- امکان استفاده از پورت رنج در سرور ایران
- دارای داشبورد با ساب دامین و نام کاربری و رمز عبور دلخواه
- امکان استفاده از ریورس تانل بدون داشبود
- امکان استفاده از تانل بروکر و Native IPV6 و Private IP در لودبالانس | ریورس تانل
- مشاهده تمامی سرویس ها
- امکان Start | Stop سرویس ها و حذف آنها در صورت نیاز
- پشتیبانی از amd64 و arm64

--------------------------

![147-1472495_no-requirements-icon-vector-graphics-clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/98d8c2bd-c9d2-4ecf-8db9-246b90e1ef0f)
 **پیش نیازها**

 - برای افزودن Native IPV6 از طریق این [لینک](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT) اموزش را دنبال کنید و به ایپی 6 سرور خارج بیافزایید


![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/Haproxy_TCP_loadbalance/assets/119934376/a462de6d-be16-46dc-aaa8-c21a4c6df669) **نکات**

- خب Native IPV6 چیست ؟ به زبان ساده و در باب تاپیک، ایپی 6 ای که دیتاسنتر به شما داده است. برای اطلاعات بیشتر لطفا در گوگل مطالعه بفرمایید.

 
 ------------------------------------------------------
  
  ![6348248](https://github.com/Azumi67/PrivateIP-Tunnel/assets/119934376/398f8b07-65be-472e-9821-631f7b70f783)
**آموزش**
--


- نخست FRP را بر روی سرور خود نصب نمایید. سپس در صورت تمایل از اسکریپت optimizer استفاده نمایید.
- در این آموزش من با دو روش Native IPV6 و Private IP ریورس تانل | لودبالانس را انجام داده ام. میتوانید حتی از تانل بروکر برای سرور ایرانتان استفاده نمایید.
- اگر سرور ایران Native IPV6 ندارد و نمیخواهید از 6to4 پرایوت ایپی استفاده نمایید ، میتوانید در این روش، برای سرور ایران به جای Native IPV6 از تانل بروکر استفاده نمایید
- همیشه در این تانل، کانفیگ را از سرور ایران شروع نمایید و سپس سرور خارج
- اگر نیازی به داشبورد ندارید از گزینه بدون داشبورد استفاده نمایید.
- اکر تانل شما به هر دلیلی کار نکرد، نخست سرویس ایران و سپس سرویس خارج را ریست سرویس کنید
- حتما اطمینان پیدا کنید که پورت های که انتخاب کردید را در فایروال خود، باز کردید
- پورت پیش فرض 8443 برای لودبالانس میباشد

----------------------
 ![OIP2 (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3ec2f05f-3308-4441-8cce-62ab4776f4e2)
ریورس تانل بدون لود بالانس [ تک پورت یا چندین پورت ]
-----------

![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور ایران** 

 <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/1f174591-e781-4d20-a99a-104cfb626039" alt="Image" />
</p>

- مسیر : گزینه دوم (TCP Tunnel) >> سرور ایران >> داشبورد
- من در این تانل یک سرور خارج با دو کانفیگ vmess و پورت های 8080 و 8081 دارم و میخواهم ریورس تانل انجام بدم
- در اینجا به شما کانفیگ سرور ایران با داشبورد را نشان میدم
- در اینجا به شما کانفیگ سرور ایران با داشبورد را نشان میدم
- ساب دامین خود با ایمیل خود را وارد نمایید ، پس از دریافت Certificate، پورت های لوکال و ریموت را میدیم
- پورت لوکال پورت داخل سرور و پورت ریموت پورت خارج از سرور میباشد
- پورت های کانفیگ من 8080 و 8081 بود پس در سرور ایران برای local_port = 8080,8081 و برای remote_port = 8080,8081 میذارم
- برای پورت رنج از [,] استفاده نمایید مانند مثال بالا
- نام کاربری، رمز عبور و پورت داشبورد خود را وارد نمایید
- در آخر میتوانید از طریق لینکی که به شما داده میشود، به داشبورد ریورس تانل خود وارد شوید



----------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/1e153227-3adb-4b8e-8b89-792a77ce8227) **سرور خارج روش اول - استفاده از IPV6**


**مسیر : گزینه 2 [TCP Tunnel] > سرور خارج > روش ایپی 6**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/943b5521-2985-46ed-814c-92c158a16891" alt="Image" />
</p>

- در روش اول از ای ایپی 6 برای هر پورت استفاده میکنم. من دو کانفیگ vmess با پورت های 8080 و 8081 دارم و برای هر پورت از یک ایپی 6 سرور خارجم استفاده خواهم کرد
- چون دو کانفیگ دارم، از دو ایپی 6 استفاده میکتم. به عبارتی برای هر پورت از یک ایپی 6 سرور خارج استفاده میکنم
- ایپی 6 سرور ایران را قرار میدهیم. میتواند Native IPV6 یا تانل بروکر باشد
- لوکال پورت، پورت داخل سرور و ریموت پورت، پورت خارج از سرور میباشد
- به طور مثال من از پورت یکسان برای لوکال و ریموت استفاده کردم
- توضیح اضافی : شما حتی میتوانید از پورت 8080 برای لوکال و پورت دیگری مانند 8082 برای ریموت استفاده نمایید که بدین صورت پورت جدید شما 8082 خواهد بود


-------------
  ![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT/assets/119934376/1b367bc9-aaed-4a8d-84a6-a2a1fc31b831) 
  **اگر میخواید به تعداد ایپی 6 خارج خودتان بیافزایید به این لینک مراجعه کنید :** https://github.com/Azumi67/6TO4-GRE-IPIP-SIT
  
  - در این روش از Native IPV6 برای سرور خارج و ایران استفاده کردم. میتوانید از Native IPV6 سرور خارج استفاده نمایید و در سرور ایران در صورت نداشتن ایپی 6، از تانل بروکر استفاده نمایید.
 

----------------------
![green-dot-clipart-3](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3d6fa37c-2c7b-4bfb-be8f-76669e54118e) **سرور خارج روش دوم : استفاده از لوکال ایپی**


**مسیر : گزینه 2 [TCP Tunnel] > سرور خارج > روش لوکال ایپی**


<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/8a14b6bb-d292-459e-99f0-f80dae294a37" alt="Image" />
</p>

 - در این روش، دیگر نیازی نیست که به ازای هر پورت ازیک ایپی 6 استفاده کنیم
 - من دو کانفیگ vmess با پورت های 8080 و 8081 دارم پس باید تعداد کانفیگ را 2 انتخاب کنم چون میخوام برای هر دو کانفیگ، تانل را پیاده سازی کنم
 - برای کانفیگ اول، لوکال وریموت پورت را وارد میکنم که در اینجا پورت 8080 میباشد. (من از پورت یکسان استفاده کردم)
 - برای کانفیگ دوم، لوکال و ریموت پورت را وارد میکنم که در اینجا پورت 8081 میباشد
 - حالا در کلاینت v2ray برای هر کانفیگ به جای ادرس، ایپی 4 ایران و پورت های مربوطه را جایگذاری میکنم
--------------------------------------

 ![OIP2 (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3ec2f05f-3308-4441-8cce-62ab4776f4e2)
ریورس تانل با لود بالانس - تک سرور [ تک پورت یا چندین پورت ]
------------

![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور ایران** 


**مسیر : گزینه 3 [Single Loadbalance] > سرور ایران > بدون داشبورد**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/be3524c9-a72f-44ad-b9a4-64df9c2cced2" alt="Image" />
</p>

- از سرور ایران بدون داشبود استفاده کردم
- من دو کانفیگ با پورت های 8080 و 8081 دارم و در سرور ایران از پورت رنج استفاده میکنم
- بدین صورت به جای لوکال و ریموت پورت از 8080,8081 استفاده میکنم
- برای پورت رنج از کاما , استفاده نمایید.
----------------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/bb9bd866-6e94-4513-8afb-0f31051e06a5) **سرور خارج روش اول - استفاده از IPV6**


**مسیر : گزینه 3 [Single Loadbalance] > سرور خارج > روش ایپی 6**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/63def210-be0f-42d8-9bbb-ec1e9fe77e6f" alt="Image" />
</p>

- در این روش لود بالانس را بر روی یک سرور خارج و یک سرور ایران را پیاده سازی میکنیم
- در این روش برای هر پورت میتوان از یک یا تعداد بیشتری ایپی 6 سرور خارج، برای لود بالانس استفاده نمود
- همچنین هر پورت را در گروه جداگانه قرار میدهیم که اختلالی در لودبالانس ایجاد ننماید
- به طور مثال : من دو کانفیگ vmess با پورت های 8080 و 8081 دارم . چون دو پورت دارم و میخواهم لود بالانس هم انجام بدم، پس گروه لودبالانس را 2 انتخاب میکنم که دو گروه ساخته شود
- سپس باید برای هر گروه، تعداد ایپی 6 ای که نیاز دارم را وارد کنم که من عدد 1 را وارد کردم. شما اگر برای هر پورت تعداد بیشتری نیاز دارید، میتوانید تعداد بیشتری ایپی 6، وارد نمایید
- پس چون دو پورت متفاوت دارم ، تعداد گروه لود بالانس را 2 انتخاب میکنم و برای هر گروه لود بالانس از یک ایپی 6 سرور خارج استفاده میکنم.
- برای گروه یک پورت لوکال و ریموت را 8080 قرار میدم و یک ایپی 6 سرور خارج را وارد مینمایم
- برای گروه دوم، پورت لوکال و ریموت را 8081 قرار میدم و یک ایپی 6 دیگری از سرور خارج را وارد مینمایم
 
![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/61361800-0049-412b-a5b3-4c88f1faf01a) **توجه**

- برای افزودن native ipv6 به سرور خارجتان میتوانید از [اینجا](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT) اموزش را دنبال کنید و ایپی 6 بیافزایید.
- این لود بالانس بر روی تک سرور خارج و تک سرور ایران میباشد. در این لود بالانس، میتوان کانفیگ های متفاوت را با ایپی 6 های جداگانه استفاده نمود که بالاتر مثالش رو نوشتم
- حتما نیاز نیست که پورت لوکال و ریموت یکسان باشد. بیشتر برای اینکه تعداد پورت ها در صورت تعدد بالای کانفیگ ها، بیش از یک مقداری نباشد از پورت یکسان استفاده نمودم.
- به طور مثال شما اگر 5 کانفیگ متفاوت با 5 پورت متفاوت دارید، اگر پورت لوکال و ریموت یکسان نباشد، شما 5 پورت برای لوکال و 5 پورت برای ریموت باید باز کنید که تعداد بالایی هست و برای همین از یک پورت یکسان استفاده نمودم
- اگر تنها از یک پورت استفاده میکنید هم میتوانید لود بالانس را انجام بدهید. تعداد گروه لودبالانس را 1 انتخاب کنید و به طور مثال از 3 یا بیشتر ایپی 6 سرور خارج برای اون گروه لود بالنس استفاده نمایید.
- این طوری شما 3 ایپی 6 دارید که با tcp health check بررسی میشوند.
- اگر کمی گیج کننده بود ، با ازمون و خطا و مطالعه دوباره ، میتوانید لود بالانس را پیاده سازی کنید.
-  **در این روش از Native IPV6 برای سرور خارج و ایران استفاده کردم. میتوانید از Native IPV6 سرور خارج استفاده نمایید و در سرور ایران در صورت نداشتن ایپی 6، از تانل بروکر استفاده نمایید.**

--------------------------
![green-dot-clipart-3](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3d6fa37c-2c7b-4bfb-be8f-76669e54118e) **سرور خارج روش دوم : استفاده از لوکال ایپی**

**مسیر : گزینه 3 [Single Loadbalance] > سرور خارج > روش لوکال ایپی**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/dff4e44c-3a5d-4066-88c0-c2093454524c" alt="Image" />
</p>

- در این روش از لوکال ایپی به جای ایپی 6 استفاده میکنیم. پس فقط نیازه که تعداد گروه لود بالانس را انتخاب کنیم و برای هر گروه لوبالانس ، لوکال و ریموت پورت را وارد کنیم
- به طور مثال من دو کانفیگ vmess با پورت های متفاوت دارم. پس باید تعداد گروه لود بالانس را 2 انتخاب کنم. سپس پورت کانفیگ اول را در گروه اول و پورت کانفیگ دوم را در گروه دوم قرار میدهم.
- پورت کانفیگ اول 8080 میباشد و پورت کانفیگ دوم من 8081 است
- من از پورت یکسان برای لوکال و ریموت در هر گروه لودبالانس استفاده کردم. شما میتوانید پورت های متفاوت بدهید. به طور مثال برای کانفیگ اول : local_port : 8080 و remote_port : 8082

![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/61361800-0049-412b-a5b3-4c88f1faf01a) **توجه**
- اگر سرور ایران شما دارای Native IPV6 نمیباشد، میتوانید از تانل بروکر هم استفاده نمایید.

---------------------------------------
![OIP2 (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3ec2f05f-3308-4441-8cce-62ab4776f4e2)
ریورس تانل با لود بالانس - 10 سرور خارج | 1 سرور ایران [ تک پورت یا چندین پورت ]
--------------


![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور ایران** 
--
**مسیر : گزینه 4 [LoadBalancer [10] Kharej [1] IRAN] > سرور ایران > بدون داشبورد**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/e8a667c9-57ee-453e-96f7-65737848f220" alt="Image" />
</p>

- من دو سرور خارج دارم و هر کدام دو کانفیگ با پورت های متفاوت دارند. میخواهم لود بالانس را بین دو سرور خارج و یک سرور ایران پیاده سازی کنم. شما ازاین مثال برای نمونه استفاده نمایید.
- سرور خارج اول (المان) دو کانفیگ vmess با پورت های 8080 و 8081 دارد
- سرور خارج دوم (ترکیه) دو کانفیگ vmess با پورت های 8083 و 8084 دارد
- نخست کانفیگ تانل را از سرور ایران آغاز میکنیم.
- چون تعداد پورت ها بالا است از پورت رنج استفاده میکنیم. شما با دو مدل میتوانید از پورت رنج استفاده نمایید.
- در قسمت لوکال پورت اینگونه پورت ها را قرار میدهیم > 8080,8081,8083,8084
- و در قسمت ریموت پورت، بدین صورت آنها را وارد میکنیم. میتوانید مانند مثال بالا یا مانند مثال روبرو وارد کنید > 8084-8080
- ازانجا که تعداد پورت ها به خاطر تعدد بالای سرور خارج، بیش از اندازه میباشد، من از پورت های یکسان برای لوکال و ریموت استفاده کردم . شما میتوانید از پورت های متفاوت استفاده کنید.
- به طور مثال اگردر کانفیگ اول، پورت ما 8080 است . میتوانیم ریموت پورت را مقدار متفاوتی قرار دهیم. به طور مثال : local_port : 8080 و remote_port : 8085
- دقت کنید که اگر میخواهید کانفیگ اول vmess شما با ایپی 4 ایران کار کند، پس اگر پورت متفاوتی وارد کردید ، باید پورت هم در کلاینت v2rayng تغییر دهید. به طور مثال پورت ما 8085 خواهد بود.
- این توضیحات برای کامل کردن اموزش میباشد و شما میتوانید آن را نادیده بگیرید و از پورت یکسان برای هر کانفیگ استفاده نمایید که دیگر نیازی به تغییر پورت در کلاینت v2rayng نباشد و تنها باید از ایپی 4 ایران در قسمت ادرس استفاده نمایید.
- شما همچنین میتوانید از ساب دامین که پشتش ایپی 4 ایران مربوطه میباشد، در قسمت ادرس کلاینت v2rayng استفاده نمایید.
-  **در این روش از Native IPV6 برای سرور خارج و ایران استفاده کردم. میتوانید از Native IPV6 سرور خارج استفاده نمایید و در سرور ایران در صورت نداشتن ایپی 6، از تانل بروکر استفاده نمایید.**

-------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/bb9bd866-6e94-4513-8afb-0f31051e06a5) **سرور خارج اول (المان) روش اول - استفاده از IPV6**
--
**اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد استفاده نمایید**

**مسیر : گزینه 4 [LoadBalancer [10] Kharej [1] IRAN] > روش ایپی 6 > سرور خارج اول**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/7bb850fe-d0c6-4a58-8c8c-92a6cdd74427" alt="Image" />
</p>


- سرور خارج اول (المان) را کانفیگ میکنیم . دو کانفیگ vmess با پورت های 8080 و 8081 داریم . میخواهیم بوسیله ایپی 6 های سرور خارج (المان) ، لود بالانس و ریورس تانل را برای هر دو کانفیگ به یک سرور ایران انجام دهیم.
- چون دو عدد کانفیگ vmess داریم ، تعداد لود بالانس را 2 قرار میدهیم تا دو گروه لود بالانس برای ما ایجاد شود.
- ایپی 6 سرور ایران را وارد نمایید. دقت نمایید ایپی 6 ایران برای هر دو سرور خارج یکسان میباشد چون کانفیگ 5 سرور خارج به یک سرور ایران میباشد.
- در این روش برای هر پورت میتوان از یک یا تعداد بیشتری ایپی 6 سرور خارج، برای لود بالانس استفاده نمود
- همچنین هر پورت را در گروه جداگانه قرار میدهیم که اختلالی در لودبالانس ایجاد ننماید
- به طور مثال : من دو کانفیگ vmess با پورت های 8080 و 8081 دارم . چون دو پورت دارم و میخواهم لود بالانس هم انجام بدم، پس گروه لودبالانس را 2 انتخاب میکنم که دو گروه ساخته شود
- سپس باید برای هر گروه، تعداد ایپی 6 ای که نیاز دارم را وارد کنم که من عدد 1 را وارد کردم. شما اگر برای هر پورت تعداد بیشتری نیاز دارید، میتوانید تعداد بیشتری ایپی 6، وارد نمایید
- پس نتیجه گیری میکنم که چون دو پورت متفاوت دارم ، تعداد گروه لود بالانس را 2 انتخاب میکنم و برای هر گروه لود بالانس از یک ایپی 6 سرور خارج استفاده میکنم.
- برای گروه یک پورت لوکال و ریموت را 8080 قرار میدم و یک ایپی 6 سرور خارج را وارد مینمایم
- برای گروه دوم، پورت لوکال و ریموت را 8081 قرار میدم و یک ایپی 6 دیگری از سرور خارج را وارد مینمایم
-  **در این روش از Native IPV6 برای سرور خارج و ایران استفاده کردم. میتوانید از Native IPV6 سرور خارج استفاده نمایید و در سرور ایران در صورت نداشتن ایپی 6، از تانل بروکر استفاده نمایید.**

------------------------

  **لطفا عکس زیر را نگاه کنید تا توضیحاتی در مورد Starting V2ray number بدم**
 

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/9181c2cf-0871-4a46-827b-f36a8ff384ad" alt="Image" />
</p>

- چون کانفیگ سرور اول (المان) میباشد ، شما باید مقدار Starting v2ray number را مقدار 1 وارد کنید چون سرور اغازین و همون اول میباشد
- خب من دو عدد کانفیگ در سرور خارج اول (المان) داشتم. پس دو عدد گروه لود بالانس ایجاد کردم و در هر گروه برای هر پورت به صورت جداگانه، از ایپی 6 های متفاوتی استفاده کردم.
- براساس اطلاعات بالا، مقدار Last V2ray number عدد 3 میباشد به این معنی که شما باید از عدد 3 برای کانفیگ سرور خارج دوم (ترکیه) استفاده نمایید.
- در آخر کانفیگ مانند اسکرین شات بالا، مقدار Last v2ray number را مشاهده می کنید. باید از این عدد در کانفیگ سرور خارج دوم، استفاده نمایید. به عبارتی اگر 2 عدد کانفیگ در سرور خارج اول دارید، مقدار Last v2ray number شما عدد 3 خواهد بود .
- بنابراین برای سرور دوم برای Starting v2ray number از مقدار 3 استفاده میکنیم.
- پس اگر سرور سوم و چهارم دارید میتوانید به کمک این عدد، مقدار درست Starting v2ray number را وارد نمایید. در غیر اینصورت لود بالانس کار نخواهد کرد.
- اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد استفاده نمایید.

 
![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/61361800-0049-412b-a5b3-4c88f1faf01a) **توجه**

- برای افزودن native ipv6 به سرور خارجتان میتوانید از [اینجا](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT) اموزش را دنبال کنید و ایپی 6 بیافزایید.
- اگر کمی گیج کننده بود ، با ازمون و خطا و مطالعه دوباره ، میتوانید لود بالانس را پیاده سازی کنید.
-------------------------
![green-dot-clipart-3](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/ae98a157-9520-46d0-afa6-93525a2f9d0a)**سرور خارج (المان) روش دوم - استفاده از لوکال ایپی**
--

**مسیر : گزینه 4 [LoadBalancer [10] Kharej [1] IRAN] > روش لوکال ایپی > سرور خارج اول**

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/018d1ccf-d374-49d5-a8af-b666516a7eae" alt="Image" />
</p>

- در این روش به جای اینکه برای هر پورت، ایپی 6 جداگانه قرار بدهیم، به صورت اتوماتیک از لوکال ایپی استفاده میکنیم.
- در اینجا بوسیله روش دوم، کانفیگ سرور اول خارج (المان) را انجام میدهیم
- ایپی 6 سرور ایران را وارد نمایید. دقت نمایید ایپی 6 ایران برای هر دو سرور خارج یکسان میباشد چون کانفیگ 5 سرور خارج به یک سرور ایران میباشد.
- من دو کانفیگ vmess در سرور المان دارم و پورت های آن 8080 و 8081 میباشد
- چون دو پورت دارم و میخواهم هر دو پورت را به یک سرور ایران لود بالانس کنم ، پس تعداد 2 را برای لود بالانس انتخاب میکنم که 2 گروه برای من بسازد
- چون سرور اول من سرور المان میباشد پس مقدار Starting v2ray number عدد 1 میباشد.
-  مانند مثال بالا که توضیح دادم ، چون دو عدد کانفیگ دارم، دو گروه لود بالانس ایجاد میکنیم و برای همین مقدار Starting v2ray number برای سرور دوم (ترکیه)مقدار 3 میباشد
 



  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/9181c2cf-0871-4a46-827b-f36a8ff384ad" alt="Image" />
</p>

- چون کانفیگ سرور اول (المان) میباشد ، شما باید مقدار Starting v2ray number را مقدار 1 وارد کنید چون سرور اغازین و همون اول میباشد
- خب من دو عدد کانفیگ در سرور خارج اول (المان) داشتم. پس دو عدد گروه لود بالانس ایجاد کردم.
- براساس اطلاعات بالا، مقدار Last V2ray number عدد 3 میباشد به این معنی که شما باید از عدد 3 برای کانفیگ سرور خارج دوم (ترکیه) استفاده نمایید.
- در آخر کانفیگ مانند اسکرین شات بالا، مقدار Last v2ray number را مشاهده می کنید. باید از این عدد در کانفیگ سرور خارج دوم، استفاده کرد. به عبارتی اگر 2 عدد کانفیگ در سرور خارج اول دارید، مقدار Last v2ray number شما عدد 3 خواهد بود .
- بنابراین برای سرور دوم برای Starting v2ray number از مقدار 3 استفاده میکنیم.
- پس اگر سرور سوم و چهارم دارید میتوانید به کمک این عدد، مقدار درست Starting v2ray number را وارد نمایید. در غیر اینصورت لود بالانس کار نخواهد کرد.

--------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/bb9bd866-6e94-4513-8afb-0f31051e06a5) **سرور خارج دوم (ترکیه) روش اول - استفاده از IPV6**
--
**اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد استفاده نمایید**

**مسیر : گزینه 4 [LoadBalancer [10] Kharej [1] IRAN] > روش ایپی 6 > سرور خارج دوم**


<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/7bb850fe-d0c6-4a58-8c8c-92a6cdd74427" alt="Image" />
</p>

- سرور ایران که قبلا کانفیگ شده است و فقط نیازاست که سرور های خارج کانفیگ شوند.
- ایپی 6 سرور ایران را وارد نمایید. دقت نمایید ایپی 6 ایران برای هر دو سرور خارج یکسان میباشد چون کانفیگ 5 سرور خارج به یک سرور ایران میباشد.
- سرور خارج دوم (ترکیه) را کانفیگ میکنیم . دو کانفیگ vmess با پورت های 8083 و 8084 داریم . میخواهیم بوسیله ایپی 6 های سرور خارج (ترکیه) ، لود بالانس و ریورس تانل را برای هر دو کانفیگ به یک سرور ایران انجام دهیم.
- چون دو عدد کانفیگ vmess داریم ، تعداد لود بالانس را 2 قرار میدهیم تا دو گروه لود بالانس برای ما ایجاد شود.
- در این روش برای هر پورت میتوان از یک یا تعداد بیشتری ایپی 6 سرور خارج، برای لود بالانس استفاده نمود
- همچنین هر پورت را در گروه جداگانه قرار میدهیم که اختلالی در لودبالانس ایجاد ننماید
- به طور مثال : من دو کانفیگ vmess با پورت های 8083 و 8084 دارم . چون دو پورت دارم و میخواهم لود بالانس هم انجام بدم، پس گروه لودبالانس را 2 انتخاب میکنم که دو گروه ساخته شود
- سپس باید برای هر گروه، تعداد ایپی 6 ای که نیاز دارم را وارد کنم که من عدد 1 را وارد کردم چون تنها به یک ایپی 6 نیاز دارم. شما اگر برای هر پورت تعداد بیشتری نیاز دارید، میتوانید تعداد بیشتری ایپی 6، وارد نمایید
- پس نتیجه گیری میکنم که چون دو پورت متفاوت دارم ، تعداد گروه لود بالانس را 2 انتخاب میکنم و برای هر گروه لود بالانس از یک ایپی 6 سرور خارج استفاده میکنم.
- برای گروه یک پورت لوکال و ریموت را 8083 قرار میدم و یک ایپی 6 سرور خارج (ترکیه) را وارد مینمایم
- برای گروه دوم، پورت لوکال و ریموت را 8084 قرار میدم و یک ایپی 6 دیگری از سرور خارج(ترکیه) را وارد مینمایم

------------------------

  **لطفا عکس زیر را نگاه کنید تا توضیحاتی در مورد Starting V2ray number بدم**
 

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3bea9f3c-e81b-48d8-8266-388bcf5b7cd4" alt="Image" />
</p>

- چون کانفیگ سرور دوم (ترکیه) میباشد ، بر طبق Last v2ray number که در کانفیگ سرور اول بدست اوردیم ، عدد 3 را برای Starting v2ray number انتخاب میکنیم.
- خب من دو عدد کانفیگ در سرور خارج دوم(ترکیه) داشتم. پس دو عدد گروه لود بالانس ایجاد کردم و در هر گروه برای هر پورت به صورت جداگانه، از ایپی 6 های متفاوتی استفاده کردم.
- براساس اطلاعات بالا، مقدار Last V2ray number عدد 5 میباشد چون شروع کانفیگ از عدد 3 بوده است و دو گروه لود بالانس داشتیم. با این حساب باید برای کانفیگ سرور سوم، از عدد 5 برای Starting v2ray number استفاده نماییم.
- این اسکرین شات در آخر هر کانفیگ سرور خارج به شما نمایش داده میشود.
- اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد و نیازی به ایپی 6 ندارد استفاده نمایید.

 
![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/61361800-0049-412b-a5b3-4c88f1faf01a) **توجه**

- برای افزودن native ipv6 به سرور خارجتان میتوانید از [اینجا](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT) اموزش را دنبال کنید و ایپی 6 بیافزایید.
- اگر کمی گیج کننده بود ، با ازمون و خطا و مطالعه دوباره ، میتوانید لود بالانس را پیاده سازی کنید.
-------------------------
![green-dot-clipart-3](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/ae98a157-9520-46d0-afa6-93525a2f9d0a)**سرور خارج دوم (ترکیه) روش دوم - استفاده از لوکال ایپی**
--

**مسیر : گزینه 4 [LoadBalancer [10] Kharej [1] IRAN] > روش لوکال ایپی > سرور خارج دوم**

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/018d1ccf-d374-49d5-a8af-b666516a7eae" alt="Image" />
</p>

- در این روش به جای اینکه برای هر پورت ایپی 6 جداگانه قرار بدهیم، به صورت اتوماتیک از لوکال ایپی استفاده میکنیم.
- در اینجا بوسیله روش دوم، کانفیگ سرور دوم خارج (ترکیه) را انجام میدهیم
- ایپی 6 سرور ایران را وارد نمایید. دقت نمایید ایپی 6 ایران برای هر دو سرور خارج یکسان میباشد چون کانفیگ 5 سرور خارج به یک سرور ایران میباشد.
- من دو کانفیگ vmess در سرور ترکیه دارم و پورت های آن 8083 و 8084 میباشد
- چون دو پورت دارم و میخواهم هر دو پورت را به یک سرور ایران لود بالانس کنم ، پس تعداد 2 را برای لود بالانس انتخاب میکنم که 2 گروه برای من بسازد
- چون سرور دوم من سرور ترکیه میباشد بر طبق Last v2ray number که در سرور المان به دست اوردیم، آن عدد یعنی 3 را برای Starting v2ray number قرار میدهیم.
- پس مقدار Starting v2ray number عدد 3 خواهد بود.به همین صورت برای سرور های بعدی انجام میدهید.


**لطفا عکس زیر را نگاه کنید تا توضیحاتی در مورد Starting V2ray number بدم**
 

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3bea9f3c-e81b-48d8-8266-388bcf5b7cd4" alt="Image" />
</p>

- چون کانفیگ سرور دوم (ترکیه) میباشد ، بر طبق Last v2ray number که در کانفیگ سرور اول بدست اوردیم ، عدد 3 را برای Starting v2ray number انتخاب میکنیم.
- خب من دو عدد کانفیگ در سرور خارج دوم(ترکیه) داشتم. پس دو عدد گروه لود بالانس ایجاد کردم و در هر گروه برای هر پورت به صورت جداگانه، از ایپی 6 های متفاوتی استفاده کردم.
- براساس اطلاعات بالا، مقدار Last V2ray number عدد 5 میباشد چون شروع کانفیگ از عدد 3 بوده است و دو گروه لود بالانس داشتیم. با این حساب باید برای کانفیگ سرور سوم، از عدد 5 برای Starting v2ray number استفاده نماییم.
- این اسکرین شات در آخر هر کانفیگ سرور خارج به شما نمایش داده میشود.
- اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد و نیازی به ایپی 6 ندارد استفاده نمایید.
----------------------
![OIP2 (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3ec2f05f-3308-4441-8cce-62ab4776f4e2)
ریورس تانل با لود بالانس - 3 سرور ایران | 1 سرور خارج [ تک پورت یا چندین پورت ]
--------------


![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور اول ایران** 
---

**مسیر : گزینه 5 [LoadBalancer [1] Kharej [3] IRAN] > سرور ایران > سرور ایران اول**


<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/78017a35-2bd6-4ccc-90cf-4383b8e49262" alt="Image" />
</p>

- من دو سرور ایران و یک سرور خارج (المان) دارم. در سرور خارج، من دو کانفیگ با پورت های متفاوت دارم. میخواهم لود بالانس را بین دو سرور ایران و یک سرور خارج پیاده سازی کنم. بدین صورت، تمام کانفیگ های خارج من هم زمان با دو سرور ایرانم کار خواهد کرد.
- سرور ایران اول (اروان) و سرور دوم شاتل میباشد
- پورت های کانفیگ های سرور خارج من 8080 و 8081 میباشد.
- نخست کانفیگ تانل را از سرور ایران آغاز میکنیم.
- چون تعداد پورت ها بالا است از پورت رنج استفاده میکنیم.
- در قسمت لوکال پورت اینگونه پورت ها را قرار میدهیم >8080,8081
- و در قسمت ریموت پورت، بدین صورت آنها را وارد میکنیم > 8080,8081
- ازانجا که تعداد پورت ها به خاطر تعدد بالای سرور خارج، بیش از اندازه میباشد، من از پورت های یکسان برای لوکال و ریموت استفاده کردم . شما میتوانید از پورت های متفاوت استفاده کنید.
- به طور مثال اگردر کانفیگ اول، پورت ما 8080 است . میتوانیم ریموت پورت را مقدار متفاوتی قرار دهیم. به طور مثال : local_port : 8080 و remote_port : 8085
- دقت کنید که اگر میخواهید کانفیگ شما با ایپی 4 ایران کار کند، پس اگر پورت متفاوتی وارد کردید ، باید پورت هم تغییر دهید. به طور مثال پورت ما در کلاینت v2rayng به 8085 باید تغییر کند و ادرس هم که ایپی 4 ایران میباشد.
- این توضیحات برای کامل کردن اموزش میباشد و شما میتوانید آن را نادیده بگیرید و از پورت یکسان برای هر کانفیگ استفاده نمایید که دیگر نیازی به تغییر پورت در کلاینت v2rayng نباشد و تنها باید از ایپی 4 ایران در قسمت ادرس استفاده نمایید.
- شما میتوانید همچنین از ساب دامین که پشتش ایپی 4 ایران مربوطه میباشد، در قسمت ادرس کلاینت v2rayng استفاده نمایید.
- لطفا مانند سرور اول ، سرور دوم هم کانفیگ کنید . من از آن رد میشوم. 
-  **در این روش از Native IPV6 برای سرور خارج و ایران استفاده کردم. میتوانید از Native IPV6 سرور خارج استفاده نمایید و در سرور ایران در صورت نداشتن ایپی 6، از تانل بروکر استفاده نمایید.**

-------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/0331921a-91cf-407f-aebc-3742ff8b5c85)
 **سرور خارج روش اول IPV6** 
--
**مسیر : گزینه 5 [LoadBalancer [1] Kharej [3] IRAN] > سرور خارج > روش ایپی 6**


<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/208525b2-33c0-4b36-a540-f341dc92abbc" alt="Image" />
</p>




- من دو سرور ایران و یک سرور خارج (المان) دارم. در سرور خارج، من دو کانفیگ با پورت های متفاوت دارم. میخواهم لود بالانس را بین دو سرور ایران و یک سرور خارج پیاده سازی کنم. بدین صورت، تمام کانفیگ های خارج من هم زمان با دو سرور ایرانم کار خواهد کرد.
- سرور ایران اول (اروان) و سرور دوم شاتل میباشد و از ایپی ورژن 6 برای تانل استفاده میکنم . ایپی های سرور ایرانتان را وارد نمایید.
- من دو کانفیگ vmess با پورت های 8080 و 8081 در سرور خارج دارم
- در صورت نداشتن ایپی 6 در سرور ایران، به وسیله تانل بروکر برای سرور های ایرانتان، ایپی 6 بسازید و از آن در تانل استفاده نمایید.
- پورت کانفیگ های سرور خارج من 8080 و 8081 میباشد.
- نخست از من سوال میشود که چه تعداد سرور ایران دارم. من عدد 2 را وارد میکنم چون دو عدد سرور ایران دارم
- سپس از من سوال میشود که چه تعداد گروه لود بالانس میخواهم. من چون دو عدد کانفیگ با پورت های متفاوت دارم، پس دو گروه لودبالانس را انتخاب میکنم که اختلالی در کانفیگ ها به وجود نیاید.
- سپس کانفیگ سرور اول ایران شروع میشود.
- شما باید ایپی سرور ایران خود را بدهید. من ایپی 6 سرور ایرانم را میدهم. سرور اول ایران من، سرور اروان میباشد.
- سپس باید پورت های کانفیگ را مشخص کنم. پورت کانفیگ اول من 8080 میباشد. پس برای لوکال و ریموت از پورت 8080 استفاده میکنم.
- سپس بار دیگر سوال میشود که چه تعداد ایپی 6 برای هر گروه لود بالانس میخواهم. من یک عدد ایپی 6، انتخاب کردم . شما میتوانید 2 عدد ایپی 6 برای هر گروه انتخاب نمایید
- اینها ایپی 6 سرور خارج میباشد و برای افزودن ایپی 6 در سرور خارج میتوانید از این [اسکریپت](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT) استفاده نمایید. ( لطفا طبق آموزش اقدام به افزودن ایپی 6 در سرور خارج نمایید)
- در گام بعدی، چون من دو گروه لود بالانس ساخته بودم، از من میخواد که پورت های کانفیگ دومم را هم وارد کنم
- برای گروه دوم، من از پورت کانفیگ دومم که 8081 میباشد استفاده میکنم و مانند اسکرین شات، آنها را وارد میکنم.
- سپس از من سوال میکند که ایپی 6 سرور خارجم را برای گروه دوم هم وارد نمایم. از ایپی 6 متفاوتی استفاده میکنم که مانند ایپی 6 در گروه اول نباشد.
- چون من تنها یک ایپی 6 برای هر گروه درخواست نمودم، برای همین برای هر گروه تنها، یک ایپی 6 وارد میکنم. اگر شما عدد 2 را وارد کردید ، باید دو ایپی 6 برای هر گروه وارد کنید.
- سپس کانفیگ سرور دوم ایران شروع میشود و تمام کارهایی که برای سرور اول ایران کردید ، همان را برای سرور دوم ایران انجام دهید تنها با این تفاوت که ایپی سرور دوم ایران ؛ ایپی ادرس شاتل خواهد بود. من ایپی 6 سرور شاتلم را وارد کردم.
  
**در این روش از Native IPV6 برای سرور خارج و ایران استفاده کردم. میتوانید از Native IPV6 سرور خارج استفاده نمایید و در سرور ایران در صورت نداشتن ایپی 6، از تانل بروکر استفاده نمایید.**

-------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/0331921a-91cf-407f-aebc-3742ff8b5c85)
 **سرور خارج روش دوم لوکال ایپی** 
--
**مسیر : گزینه 5 [LoadBalancer [1] Kharej [3] IRAN] > سرور خارج > لوکال ایپی**



<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/295af054-d29f-44a1-8af7-18781cc9e5c7" alt="Image" />
</p>


- من دو سرور ایران و یک سرور خارج (المان) دارم. در سرور خارج، من دو کانفیگ با پورت های متفاوت دارم. میخواهم لود بالانس را بین دو سرور ایران و یک سرور خارج پیاده سازی کنم. بدین صورت، تمام کانفیگ های خارج من هم زمان با دو سرور ایرانم کار خواهد کرد.
- در این روش دیگر نیازی نیست برای هر گروه لود بالانس از یک یا دو ایپی 6 استفاده کرد. برای هر گروه به صورت اتوماتیک از لوکال ایپی استفاده میشود.
- سرور ایران اول (اروان) و سرور دوم شاتل میباشد و از ایپی ورژن 6 برای تانل استفاده میکنم. شما میتوانید از تانل بروکر استفاده نمایید.
- من دو کانفیگ vmess با پورت های 8080 و 8081 در سرور خارج دارم
- در صورت نداشتن ایپی 6 در سرور ایران، به وسیله تانل بروکر برای سرور های ایرانتان، ایپی 6 بسازید و از آن در تانل استفاده نمایید.
- پورت های کانفیگ های سرور خارج من 8080 و 8081 میباشد.
- نخست از من سوال میشود که چه تعداد سرور ایران دارم. من عدد 2 را وارد میکنم چون دو عدد سرور ایران دارم
- سپس از من سوال میشود که چه تعداد گروه لود بالانس میخواهم. من چون دو عدد کانفیگ با پورت های متفاوت دارم، پس دو گروه لودبالانس را انتخاب میکنم که اختلالی در کانفیگ ها به وجود نیاید.
- سپس کانفیگ سرور اول ایران شروع میشود.
- شما باید ایپی سرور ایران خود را بدهید. من ایپی 6 سرور ایرانم را میدهم. سرور اول ایران من، سرور اروان میباشد.
- سپس باید پورت های کانفیگ را مشخص کنم. پورت کانفیگ اول من 8080 میباشد. پس برای لوکال و ریموت از پورت 8080 استفاده میکنم.
- در گام بعدی، چون من دو گروه لود بالانس ساخته بودم، از من میخواد که پورت های کانفیگ دومم را هم وارد کنم
- برای گروه دوم، من از پورت کانفیگ دومم که 8081 میباشد استفاده میکنم و مانند اسکرین شات، آنها را وارد میکنم.
- سپس کانفیگ سرور دوم ایران شروع میشود و تمام کارهایی که برای سرور اول ایران کردید ، همان را برای سرور دوم ایران انجام دهید تنها با این تفاوت که ایپی سرور دوم ایران ؛ ایپی ادرس شاتل خواهد بود. من ایپی 6 سرور شاتلم را وارد کردم.
  
**در این روش از Native IPV6 برای سرور خارج و ایران استفاده کردم. میتوانید از Native IPV6 سرور خارج استفاده نمایید و در سرور ایران در صورت نداشتن ایپی 6، از تانل بروکر استفاده نمایید.**

-------------------------
![R (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/e46e5f76-b533-42bc-aa07-88f7dbe4af02) **لودبالانس با پرایوت ایپی**
--

  ![6348248](https://github.com/Azumi67/PrivateIP-Tunnel/assets/119934376/398f8b07-65be-472e-9821-631f7b70f783)
**آموزش لود بالانس با پرایوت ایپی**
---

- نخست FRP را بر روی سرور خود نصب نمایید. سپس در صورت تمایل از اسکریپت optimizer استفاده نمایید.
- در این آموزش من با دو روش Native IPV6 و Private IP ریورس تانل | لودبالانس را انجام داده ام.
- در این آموزش همچنین از 6to4 برای ارتباط بین چندین سرور استفاده خواهیم کرد.
- همیشه در این تانل، کانفیگ را از سرور ایران شروع نمایید و سپس سرور خارج
- اگر نیازی به داشبورد ندارید از گزینه بدون داشبورد استفاده نمایید.
- اکر تانل شما به هر دلیلی کار نکرد، نخست سرویس ایران و سپس سرویس خارج را ریست سرویس کنید
- حتما اطمینان پیدا کنید که پورت های که انتخاب کردید را در فایروال خود، باز کردید
- پورت های تانل به صورت پیش فرض 443 و 8443 میباشد
-------------------------------------

![147-1472495_no-requirements-icon-vector-graphics-clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/98d8c2bd-c9d2-4ecf-8db9-246b90e1ef0f)
 **پیش نیازها**
--

 - برای افزودن Native IPV6 از طریق این [لینک](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT) اموزش را دنبال کنید و به ایپی 6 سرور خارج، بیافزایید
- در این آموزش همزمان از Native IPV6 و Private IP استفاده میکنیم. از طریق لینک زیر، هم زمان به 5 سرور خارج و 1 سرور ایران و یا برعکس تانل میزنیم و سپس از ایپی های ساخته شده در ریورس تانل و لودبالانس FRP استفاده میکنیم. به [اینجا](https://github.com/Azumi67/6TO4-PrivateIP) مراجعه کنید و پس از انجام آن به مطالعه این آموزش بپردازید.
- هم چنین در اینجا نحوه ساخت پرایوت ایپی و ایجاد تانل بین چند سرور به صورت مختصر مینویسم.


![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/Haproxy_TCP_loadbalance/assets/119934376/a462de6d-be16-46dc-aaa8-c21a4c6df669) **نکات**

**خب Native IPV6 چیست ؟ به زبان ساده و در باب تاپیک، ایپی 6 ای که دیتاسنتر به شما داده است. برای اطلاعات بیشتر لطفا در گوگل مطالعه بفرمایید.**


  ------------------------------------------------------
  
![OIP2 (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3ec2f05f-3308-4441-8cce-62ab4776f4e2)
ریورس تانل بدون لود بالانس با پرایوت ایپی - [ تک پورت یا چندین پورت ]
 ------------------------------------------------------

![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور ایران** 

 <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/1f174591-e781-4d20-a99a-104cfb626039" alt="Image" />
</p>

- مسیر : گزینه دوم (TCP Tunnel) >> سرور ایران >> داشبورد
- من در این تانل یک سرور خارج با دو کانفیگ vmess و پورت های 8080 و 8081 دارم و میخواهم ریورس تانل انجام بدم
- در اینجا به شما کانفیگ سرور ایران با داشبورد را نشان میدم
- ساب دامین خود با ایمیل خود را وارد نمایید ، پس از دریافت Certificate، پورت های لوکال و ریموت را میدیم
- پورت لوکال پورت داخل سرور و پورت ریموت پورت خارج از سرور میباشد
- پورت های کانفیگ من 8080 و 8081 بود پس در سرور ایران برای local_port = 8080,8081 و برای remote_port = 8080,8081 میذارم
- برای پورت رنج از [,] استفاده نمایید مانند مثال بالا
- نام کاربری، رمز عبور و پورت داشبورد خود را وارد نمایید
- در آخر میتوانید از طریق لینکی که به شما داده میشود، به داشبورد ریورس تانل خود وارد شوید



----------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/1e153227-3adb-4b8e-8b89-792a77ce8227) **سرور خارج روش اول - استفاده از Private IP**

![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/fb98fe19-8d6d-4404-a450-bdaac4ce020e)**نکته**

- در این روش یک تانل 6to4 یا اصطلاحا در اینجا با نام پرایوت ایپی بین یک سرور خارج و ایران ایجاد کردیم. لطفا به این [لینک](https://github.com/Azumi67/6TO4-PrivateIP_multipleSERVERS) مراجعه کنید و آموزش ها را بخوانید و پس از ایجاد تانل ، ریورس تانل FRP را انجام دهید.
  

**مسیر : گزینه 2 [TCP Tunnel] > سرور خارج > روش ایپی 6**


<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/2cf0c793-4919-48bf-850a-fbdc600d371e" alt="Image" />
</p>


- در روش اول از پرایوت ایپی برای هر پورت استفاده میکنم. من دو کانفیگ vmess با پورت های 8080 و 8081 دارم و برای هر پورت از یک ایپی پرایوت سرور خارجم استفاده خواهم کرد
- چون دو کانفیگ دارم، از دو ایپی پرایوت استفاده میکتم. به عبارتی برای هر پورت از یک ایپی پرایوت سرور خارج استفاده میکنم پس عدد 2 را انتخاب میکنم.
- سرور خارج، سرور ترکیه میباشد
- ایپی پرایوت سرور ایران را قرار میدهیم. سرور ایران ، سرور امین میباشد.
- لوکال پورت، پورت داخل سرور و ریموت پورت، پورت خارج از سرور میباشد
- به طور مثال من از پورت یکسان برای لوکال و ریموت استفاده کردم
- توضیح اضافی : شما حتی میتوانید از پورت 8080 برای لوکال و پورت دیگری مانند 8082 برای ریموت استفاده نمایید که بدین صورت پورت جدید شما 8082 خواهد بود


 

----------------------
![green-dot-clipart-3](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3d6fa37c-2c7b-4bfb-be8f-76669e54118e) **سرور خارج روش دوم : استفاده از لوکال ایپی وپرایوت ایپی**


**مسیر : گزینه 2 [TCP Tunnel] > سرور خارج > روش لوکال ایپی**


<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/d67d0497-6c57-4ef5-935a-a336a8e5fc8a" alt="Image" />
</p>

 - در این روش، دیگر نیازی نیست که به ازای هر پورت ازیک ایپی پرایوت استفاده کنیم
 - ایپی پرایوت ایران را وارد نمایید.
 - من دو کانفیگ vmess با پورت های 8080 و 8081 دارم پس باید تعداد کانفیگ را 2 انتخاب کنم چون میخوام برای هر دو کانفیگ، تانل را پیاده سازی کنم
 - برای کانفیگ اول، لوکال وریموت پورت را وارد میکنم که در اینجا پورت 8080 میباشد. (من از پورت یکسان استفاده کردم)
 - برای کانفیگ دوم، لوکال و ریموت پورت را وارد میکنم که در اینجا پورت 8081 میباشد
 - حالا در کلاینت v2ray برای هر کانفیگ به جای ادرس، ایپی 4 ایران و پورت های مربوطه را جایگذاری میکنم
--------------------------------------

 ![OIP2 (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3ec2f05f-3308-4441-8cce-62ab4776f4e2)
ریورس تانل با لود بالانس - تک سرور [ استفاده از Native IPV6 و پرایوت ایپی] 
------------

![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور ایران** 


**مسیر : گزینه 3 [Single Loadbalance] > سرور ایران > بدون داشبورد**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/be3524c9-a72f-44ad-b9a4-64df9c2cced2" alt="Image" />
</p>

- از سرور ایران بدون داشبود استفاده کردم
- من دو کانفیگ با پورت های 8080 و 8081 دارم و در سرور ایران از پورت رنج استفاده میکنم
- بدین صورت به جای لوکال و ریموت پورت از 8080,8081 استفاده میکنم
- برای پورت رنج از کاما , استفاده نمایید.
----------------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/bb9bd866-6e94-4513-8afb-0f31051e06a5) **سرور خارج روش اول - استفاده از IPV6**


**مسیر : گزینه 3 [Single Loadbalance] > سرور خارج > روش ایپی 6**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/a0891264-32e8-468e-8fe9-17eb56665ef8" alt="Image" />
</p>

- در این روش لود بالانس را بر روی یک سرور خارج و یک سرور ایران را پیاده سازی میکنیم
- در این روش برای هر پورت میتوان از یک یا تعداد بیشتری ایپی 6 سرور خارج، برای لود بالانس استفاده نمود
- تنها برای سرور ایران ، از پرایوت ایپی هایی که بین یک سرور خارج و یک سرور ایران ساخته ایم ، استفاده میکنیم. پس من، ایپی پرایوت سرور ایرانم را وارد میکنم
- همچنین هر پورت را در گروه جداگانه قرار میدهیم که اختلالی در لودبالانس ایجاد ننماید
- به طور مثال : من دو کانفیگ vmess با پورت های 8080 و 8081 دارم . چون دو پورت دارم و میخواهم لود بالانس هم انجام بدم، پس گروه لودبالانس را 2 انتخاب میکنم که دو گروه ساخته شود
- سپس باید برای هر گروه، تعداد ایپی 6 ای که نیاز دارم را وارد کنم که من عدد 1 را وارد کردم. شما اگر برای هر پورت تعداد بیشتری نیاز دارید، میتوانید تعداد بیشتری ایپی 6، وارد نمایید
- پس چون دو پورت متفاوت دارم ، تعداد گروه لود بالانس را 2 انتخاب میکنم و برای هر گروه لود بالانس از یک ایپی 6 سرور خارج استفاده میکنم.
- برای گروه یک پورت لوکال و ریموت را 8080 قرار میدم و یک ایپی 6 سرور خارج را وارد مینمایم
- برای گروه دوم، پورت لوکال و ریموت را 8081 قرار میدم و یک ایپی 6 دیگری از سرور خارج را وارد مینمایم
 

--------------------------

  ![7115070](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/637973f2-5968-4a01-bec7-9068dfadcb3b)
**5 سرور خارج و 1 سرور ایران**
  ---

**از طریق این [لینک](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT) اقدام به تانل و ساخت پرایوت ایپی بین 2 سرور خارج و یک سرور ایران کردم.**

   
![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/2c1ae043-4bc5-4738-b1d4-6951c8fecbdc)**سرور خارج 1 (ترکیه)**



<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/cd441c64-38d2-46b5-9596-1f71ab5a35a7" alt="Image" />
</p>

- همیشه کانفیگ تانل را از سرور خارج شروع نمایید
- حالا باید برای هر سرور خارج، کانفیگ را جداگانه انجام دهیم
- در اینجا سرور خارج اول، سرور ترکیه میباشد
- سرور ایران من، امین است.
- سرور ایران برای تمامی سرور های خارج یکسان است چون تانل 2 سرور خارج و 1 سرور ایران میباشد
- تعداد ایپی هایی که میخواهید را وارد نمایید
- ایپی های ساخته شده را در notepad برای لود بالانس و ریورس تانل یادداشت کنید
- دقت کنید چون 2 سرور خارج و یک سرور ایران میباشد، شما دو ایپی پرایوت متفاوت برای هر سرور خارج دارید.
- به طور مثال برای سرور ترکیه در سرور ایران، یک پرایوت ایپی داریم و برای سرور دوم (المان) در سرور ایران ، پرایوت ایپی متفاوتی داریم.
- شما میتوانید با دستور ip a این پرایوت ایپی ها را مشاهده کنید.
- شما باید تمام این ایپی ها را در notepad یادداشت کنید و جلوتر به شما نشان میدهم.

 
------------------------------------------------------------------------------

![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/2c1ae043-4bc5-4738-b1d4-6951c8fecbdc)**سرور خارج 2 (آلمان)**

<p align="right">
  <img src="https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/af8fd4f2-174b-4560-9875-ac33a5b5e6c5" alt="Image" />
</p>

- همیشه کانفیگ تانل را از سرور خارج شروع نمایید
- حالا باید برای هر سرور خارج، کانفیگ را جداگانه انجام دهیم
- در اینجا سرور خارج دوم، سرور آلمان میباشد
- سرور ایران من، امین است
- سرور ایران برای تمامی سرور های خارج یکسان است چون تانل 2 سرور خارج و 1 سرور ایران میباشد
- تعداد ایپی هایی که میخواهید را وارد نمایید
- ایپی های ساخته شده را در notepad برای لود بالانس و ریورس تانل یادداشت کنید
- دقت کنید چون 2 سرور خارج و یک سرور ایران میباشد، شما دو ایپی پرایوت متفاوت برای هر سرور خارج دارید
- به طور مثال برای سرور ترکیه در سرور ایران، یک پرایوت ایپی داریم و برای سرور دوم (المان) در سرور ایران ، پرایوت ایپی متفاوتی داریم
- شما باید تمام این ایپی ها را در notepad یادداشت کنید و جلوتر به شما نشان میدهم
- اگر سرور سوم خارج دارید، مانند نمونه کانفیگ را انجام دهید
- برای حذف تانل ها از قسمت مربوطه اقدام به حذف تانل نمایید



---------------------------------------------------------------------------

![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/2e325267-240d-4e20-ba5a-ff408331d5a0)**سرور ایران**


  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/23109a4d-c814-45e2-bab2-e5bad938405a" alt="Image" />
</p>

- خب حالا باید سرور ایران را کانفیگ کنیم
- تعداد سرور خارجی که دارید را وارد نمایید. من دو عدد سرور خارج داشتم
- سرور خارج اول (ترکیه) و سرور خارج دوم ( المان) را وارد میکنیم و برای سرور ایران، ایپی سرور امین را قرار میدهیم.
- تعداد ایپی که برای هر سرور نیاز دارید را وارد نمایید. 2 عدد کافی است
- برای اینکه cronjob برای سرور های شما ساخته شود، تعداد سرور ها را با فاصله وارد نمایید. به طور مثال اگر 2 سرور خارج دارید اینگونه وارد نمایید ( 2 1 )
- اگر تعداد بالاتری سرور خارج دارید (به طور مثال 4)، باید تعداد سرور ها برای ساخت cronjob را اینگونه بنویسیم (4 3 2 1)
- ایپی های ساخته شده را داخل notepad برای لودبالانس و ریورس تانل یادداشت نمایید



---------------------------------------
![OIP2 (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3ec2f05f-3308-4441-8cce-62ab4776f4e2)
ریورس تانل با لود بالانس - 5 سرور خارج | 1 سرور ایران [ استفاده از Native IPV6 و پرایوت ایپی ]
--------------


![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور ایران پرایوت ایپی** 
--
**مسیر : گزینه 4 [LoadBalancer [5] Kharej [1] IRAN] > سرور ایران > بدون داشبورد**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/e8a667c9-57ee-453e-96f7-65737848f220" alt="Image" />
</p>

- من دو سرور خارج دارم و هر کدام دو کانفیگ با پورت های متفاوت دارند. میخواهم لود بالانس را بین دو سرور خارج و یک سرور ایران پیاده سازی کنم. شما ازاین مثال برای نمونه استفاده نمایید.
- سرور خارج اول (ترکیه) دو کانفیگ vmess با پورت های 8080 و 8081 دارد
- سرور خارج دوم (المان) دو کانفیگ vmess با پورت های 8083 و 8084 دارد
- نخست کانفیگ تانل را از سرور ایران آغاز میکنیم.
- چون تعداد پورت ها بالا است از پورت رنج استفاده میکنیم. شما با دو مدل میتوانید از پورت رنج استفاده نمایید.
- در قسمت لوکال پورت اینگونه پورت ها را قرار میدهیم > 8080,8081,8083,8084
- و در قسمت ریموت پورت، بدین صورت آنها را وارد میکنیم. میتوانید مانند مثال بالا یا مانند مثال روبرو وارد کنید > 8084-8080
- ازانجا که تعداد پورت ها به خاطر تعدد بالای سرور خارج، بیش از اندازه میباشد، من از پورت های یکسان برای لوکال و ریموت استفاده کردم . شما میتوانید از پورت های متفاوت استفاده کنید.
- به طور مثال اگردر کانفیگ اول، پورت ما 8080 است . میتوانیم ریموت پورت را مقدار متفاوتی قرار دهیم. به طور مثال : local_port : 8080 و remote_port : 8085
- دقت کنید که اگر میخواهید کانفیگ اول vmess شما با ایپی 4 ایران کار کند، پس اگر پورت متفاوتی وارد کردید ، باید پورت هم در کلاینت v2rayng تغییر دهید. به طور مثال پورت ما 8085 خواهد بود.
- این توضیحات برای کامل کردن اموزش میباشد و شما میتوانید آن را نادیده بگیرید و از پورت یکسان برای هر کانفیگ استفاده نمایید که دیگر نیازی به تغییر پورت در کلاینت v2rayng نباشد و تنها باید از ایپی 4 ایران در قسمت ادرس استفاده نمایید.
- شما همچنین میتوانید از ساب دامین که پشتش ایپی 4 ایران مربوطه میباشد، در قسمت ادرس کلاینت v2rayng استفاده نمایید.


-------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/bb9bd866-6e94-4513-8afb-0f31051e06a5) **سرور خارج اول (ترکیه) روش اول - استفاده از IPV6**
--
**اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد استفاده نمایید**

**مسیر : گزینه 4 [LoadBalancer [5] Kharej [1] IRAN] > روش ایپی 6 > سرور خارج اول**


<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/87a6c3c5-e041-4269-9503-7eb2c7b1796b" alt="Image" />
</p>

-----
- **ایپی های پرایوت سرور خارج اول و ایران**
- در سرور ایران، پرایوت ایپی های سرور ترکیه عبارت است از : fd1d:fc98:b73e:b481::1 و fd1d:fc98:b73e:b482::1
- در سرور ترکیه، پرایوت ایپی های سرور ترکیه : fd1d:fc98:b73e:b481::2 و fd1d:fc98:b73e:b482::2
- چرا در سرور ایران باز هم از عبارت پرایوت ایپی های سرور ترکیه استفاده شده ؟ زیرا 2 سرور خارج و یک سرور ایران را به هم تانل کرده ایم و هر پرایوت ایپی در سرور ایران متعلق به یک سرور خارج میباشد
- باید دقت کنیم که ایپی های درست را در ریورس تانل استفاده کنیم چون اگر برای ارتباط بین سرور ترکیه و ایران از پرایوت ایپی های آلمان استفاده شود، کانکشن برقرار نمیشود. پس لطفا این مورد را دقت کنید.
 
----
- سرور خارج اول (ترکیه) را کانفیگ میکنیم . دو کانفیگ vmess با پورت های 8080 و 8081 داریم . میخواهیم بوسیله ایپی 6 های سرور خارج (ترکیه) ، لود بالانس و ریورس تانل را برای هر دو کانفیگ به یک سرور ایران انجام دهیم.
- برای لود بالانس از Turkiye Native IPV6 استفاده میکنیم و برای سرور ایران از پرایوت ایپی استفاده خواهیم کرد.
- لطفا برای سرور ایران، پرایوت ایپی مربوط به سرور ترکیه را قرار دهید. به عبارتی در سرور ایران بسته به تعداد سرور خارج، تعداد زیادی پرایوت ایپی خواهیم داشت و هر کدام از این پرایوت ایپی ها مربوط به یک سرور خارج میباشد. لطفا با آزمون و خطا این قسمت را تست کنید تا بهتر درک شود.
- چون دو عدد کانفیگ vmess داریم ، تعداد لود بالانس را 2 قرار میدهیم تا دو گروه لود بالانس برای ما ایجاد شود.
- چون سرور اول من سرور ترکیه میباشد پس مقدار Starting v2ray number عدد 1 میباشد.
- در این روش برای هر پورت میتوان از یک یا تعداد بیشتری ایپی 6 سرور خارج، برای لود بالانس استفاده نمود
- همچنین هر پورت را در گروه جداگانه قرار میدهیم که اختلالی در لودبالانس ایجاد ننماید
- به طور مثال : من دو کانفیگ vmess با پورت های 8080 و 8081 دارم . چون دو پورت دارم و میخواهم لود بالانس هم انجام بدم، پس گروه لودبالانس را 2 انتخاب میکنم که دو گروه ساخته شود
- سپس باید برای هر گروه، تعداد ایپی 6 ای که نیاز دارم را وارد کنم که من عدد 1 را وارد کردم. شما اگر برای هر پورت تعداد بیشتری نیاز دارید، میتوانید تعداد بیشتری ایپی 6، وارد نمایید
- پس نتیجه گیری میکنم که چون دو پورت متفاوت دارم ، تعداد گروه لود بالانس را 2 انتخاب میکنم و برای هر گروه لود بالانس از یک ایپی 6 سرور خارج استفاده میکنم.
- برای گروه یک پورت لوکال و ریموت را 8080 قرار میدم و یک ایپی 6 سرور خارج را وارد مینمایم
- برای گروه دوم، پورت لوکال و ریموت را 8081 قرار میدم و یک ایپی 6 دیگری از سرور خارج را وارد مینمایم


------------------------

  **لطفا عکس زیر را نگاه کنید تا توضیحاتی در مورد Starting V2ray number بدم**
 

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/9181c2cf-0871-4a46-827b-f36a8ff384ad" alt="Image" />
</p>

- چون کانفیگ سرور اول (ترکیه) میباشد ، شما باید مقدار Starting v2ray number را مقدار 1 وارد میکنیم چون سرور اغازین و همون اول میباشد
- خب من دو عدد کانفیگ در سرور خارج اول (ترکیه) داشتم. پس دو عدد گروه لود بالانس ایجاد کردم و در هر گروه برای هر پورت به صورت جداگانه، از ایپی 6 های متفاوتی استفاده کردم.
- براساس اطلاعات بالا، مقدار Last V2ray number عدد 3 میباشد به این معنی که شما باید از عدد 3 برای کانفیگ سرور خارج دوم (آلمان) استفاده نمایید.
- در آخر کانفیگ مانند اسکرین شات بالا، مقدار Last v2ray number را مشاهده می کنید. از این عدد باید در کانفیگ سرور خارج دوم، استفاده نمایید. به عبارتی اگر 2 عدد کانفیگ در سرور خارج اول دارید، مقدار Last v2ray number شما عدد 3 خواهد بود .
- بنابراین برای سرور دوم برای Starting v2ray number از مقدار 3 استفاده میکنیم.
- پس اگر سرور سوم و چهارم دارید میتوانید به کمک این عدد، مقدار درست Starting v2ray number را وارد نمایید. در غیر اینصورت لود بالانس کار نخواهد کرد.
- اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد استفاده نمایید.

 
![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/61361800-0049-412b-a5b3-4c88f1faf01a) **توجه**

- اگر کمی گیج کننده بود ، با ازمون و خطا و مطالعه دوباره ، میتوانید لود بالانس را پیاده سازی کنید.
-------------------------
![green-dot-clipart-3](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/ae98a157-9520-46d0-afa6-93525a2f9d0a)**سرور خارج اول (ترکیه) روش دوم - استفاده از لوکال ایپی**
--

**مسیر : گزینه 4 [LoadBalancer [5] Kharej [1] IRAN] > روش لوکال ایپی > سرور خارج اول**


  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/30dac736-dd82-41f3-b00b-8c5fd3ce4b3f" alt="Image" />
</p>

------
**ایپی های پرایوت سرور خارج اول و ایران**
- در سرور ایران، پرایوت ایپی های سرور ترکیه عبارت است از : fd1d:fc98:b73e:b481::1 و fd1d:fc98:b73e:b482::1
- در سرور ترکیه، پرایوت ایپی های سرور ترکیه : fd1d:fc98:b73e:b481::2 و fd1d:fc98:b73e:b482::2
- چرا در سرور ایران باز هم از عبارت پرایوت ایپی های سرور ترکیه استفاده شده ؟ زیرا 2 سرور خارج و یک سرور ایران را به هم تانل کرده ایم و هر پرایوت ایپی در سرور ایران متعلق به یک سرور خارج میباشد
- باید دقت کنیم که ایپی های درست را در ریورس تانل استفاده کنیم چون اگر برای ارتباط بین سرور ترکیه و ایران از پرایوت ایپی های آلمان استفاده شود، کانکشن برقرار نمیشود. پس لطفا این مورد را دقت کنید.
-------------
- در این روش به جای اینکه برای هر پورت ایپی 6 جداگانه قرار بدهیم، به صورت اتوماتیک از لوکال ایپی استفاده میکنیم
- از لوکال ایپی به صورت اتوماتیک استفاده میشود و برای سرور ایران از پرایوت ایپی استفاده خواهیم کرد.
- لطفا برای سرور ایران، پرایوت ایپی مربوط به سرور ترکیه را قرار دهید. به عبارتی در سرور ایران بسته به تعداد سرور خارج، تعداد زیادی پرایوت ایپی خواهیم داشت و هر کدام از این ها مربوط به یک سرور خارج میباشد. لطفا با آزمون و خطا این قسمت را تست کنید تا بهتر درک شود.
- در اینجا بوسیله روش دوم، کانفیگ سرور اول خارج (ترکیه) را انجام میدهیم
- من دو کانفیگ vmess در سرور المان دارم و پورت های آن 8080 و 8081 میباشد
- چون دو پورت دارم و میخواهم هر دو پورت را به یک سرور ایران لود بالانس کنم ، پس تعداد 2 را برای لود بالانس انتخاب میکنم که 2 گروه برای من بسازد
-  چون سرور اول من سرور ترکیه میباشد پس مقدار Starting v2ray number عدد 1 میباشد.
-  مانند مثال بالا که توضیح دادم ، چون دو عدد کانفیگ دارم، دو گروه لود بالانس ایجاد میکنیم و برای همین مقدار Starting v2ray number برای سرور دوم (آلمان)مقدار 3 میباشد که در اسکرین شات هم مشخص است.



--------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/bb9bd866-6e94-4513-8afb-0f31051e06a5) **سرور خارج دوم (آلمان) روش اول - استفاده از IPV6**
--
**اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد استفاده نمایید**

**مسیر : گزینه 4 [LoadBalancer [5] Kharej [1] IRAN] > روش ایپی 6 > سرور خارج دوم**



<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/eba7912f-fe13-44cb-8d76-b33d9194be3c" alt="Image" />
</p>

----------

**ایپی های پرایوت سرور خارج دوم و ایران**
- در سرور ایران، پرایوت ایپی های سرور آلمان عبارت است از : fd1d:fc98:b73e:b381::1 و fd1d:fc98:b73e:b382::1
- در سرور آلمان، پرایوت ایپی های سرور آلمان : fd1d:fc98:b73e:b381::2 و fd1d:fc98:b73e:b382::2
- چرا در سرور ایران باز هم از عبارت پرایوت ایپی های سرور آلمان استفاده شده ؟ زیرا 2 سرور خارج و یک سرور ایران را به هم تانل کرده ایم و هر پرایوت ایپی در سرور ایران متعلق به یک سرور خارج میباشد .
- باید دقت کنیم که ایپی های درست را در ریورس تانل استفاده کنیم چون اگر برای ارتباط بین سرور آلمان و ایران از پرایوت ایپی های ترکیه استفاده شود، کانکشن برقرار نمیشود. پس لطفا این مورد را دقت کنید.

--------------
- سرور ایران که قبلا کانفیگ شده است و فقط نیازاست که سرور های خارج کانفیگ شوند.
- برای لود بالانس از Germany Native IPV6 استفاده میکنیم و برای سرور ایران از پرایوت ایپی استفاده خواهیم کرد.
- لطفا برای سرور ایران، پرایوت ایپی مربوط به سرور آلمان را قرار دهید. به عبارتی در سرور ایران بسته به تعداد سرور خارج، تعداد زیادی پرایوت ایپی خواهیم داشت و هر کدام از این پرایوت ایپی ها مربوط به یک سرور خارج میباشد. لطفا با آزمون و خطا این قسمت را تست کنید تا بهتر درک شود.
- سرور خارج دوم (آلمان) را کانفیگ میکنیم . دو کانفیگ vmess با پورت های 8083 و 8084 داریم . میخواهیم بوسیله ایپی 6 های سرور خارج (آلمان) ، لود بالانس و ریورس تانل را برای هر دو کانفیگ به یک سرور ایران انجام دهیم.
- چون دو عدد کانفیگ vmess داریم ، تعداد لود بالانس را 2 قرار میدهیم تا دو گروه لود بالانس برای ما ایجاد شود.
- در این روش به ازای هر پورت میتوان از یک یا تعداد بیشتری ایپی 6 سرور خارج، برای لود بالانس استفاده نمود
- همچنین هر پورت را در گروه جداگانه قرار میدهیم که اختلالی در لودبالانس ایجاد ننماید
- به طور مثال : من دو کانفیگ vmess با پورت های 8083 و 8084 دارم . چون دو پورت دارم و میخواهم لود بالانس هم انجام بدم، پس گروه لودبالانس را 2 انتخاب میکنم که دو گروه ساخته شود
- سپس باید برای هر گروه، تعداد ایپی 6 ای که نیاز دارم را وارد کنم که من عدد 1 را وارد کردم چون تنها به یک ایپی 6 نیاز دارم. شما اگر برای هر پورت تعداد بیشتری نیاز دارید، میتوانید تعداد بیشتری ایپی 6، وارد نمایید
- پس نتیجه گیری میکنم که چون دو پورت متفاوت دارم ، تعداد گروه لود بالانس را 2 انتخاب میکنم و برای هر گروه لود بالانس از یک ایپی 6 سرور خارج استفاده میکنم.
- برای گروه یک پورت لوکال و ریموت را 8083 قرار میدم و یک ایپی 6 سرور خارج (المان) را وارد مینمایم
- برای گروه دوم، پورت لوکال و ریموت را 8084 قرار میدم و یک ایپی 6 دیگری از سرور خارج(المان) را وارد مینمایم

------------------------

  **لطفا عکس زیر را نگاه کنید تا توضیحاتی در مورد Starting V2ray number بدم**
 

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3bea9f3c-e81b-48d8-8266-388bcf5b7cd4" alt="Image" />
</p>

- چون کانفیگ سرور دوم (آلمان) میباشد ، بر طبق Last v2ray number که در کانفیگ سرور اول بدست اوردیم ، عدد 3 را برای Starting v2ray number انتخاب میکنیم.
- خب من دو عدد کانفیگ در سرور خارج دوم(آلمان) داشتم. پس دو عدد گروه لود بالانس ایجاد کردم و در هر گروه برای هر پورت به صورت جداگانه، از ایپی 6 های متفاوتی استفاده کردم.
- براساس اطلاعات بالا، مقدار Last V2ray number عدد 5 میباشد چون شروع کانفیگ از عدد 3 بوده است و دو گروه لود بالانس داشتیم. با این حساب باید برای کانفیگ سرور سوم، از عدد 5 برای Starting v2ray number استفاده نماییم.
- این اسکرین شات در آخر هر کانفیگ سرور خارج به شما نمایش داده میشود.
- اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد و نیازی به ایپی 6 ندارد استفاده نمایید.


-------------------------
![green-dot-clipart-3](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/ae98a157-9520-46d0-afa6-93525a2f9d0a)**سرور خارج دوم (آلمان) روش دوم - استفاده از لوکال ایپی**
--

**مسیر : گزینه 4 [LoadBalancer [5] Kharej [1] IRAN] > روش لوکال ایپی > سرور خارج دوم**


  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/63e86694-3921-4c5c-a3a8-858708cf0f53" alt="Image" />
</p>

-----------

-**ایپی های پرایوت سرور خارج دوم و ایران**
- در سرور ایران، پرایوت ایپی های سرور آلمان عبارت است از : fd1d:fc98:b73e:b381::1 و fd1d:fc98:b73e:b382::1
- در سرور آلمان، پرایوت ایپی های سرور آلمان : fd1d:fc98:b73e:b381::2 و fd1d:fc98:b73e:b382::2
- چرا در سرور ایران باز هم از عبارت پرایوت ایپی های سرور آلمان استفاده شده ؟ زیرا 2 سرور خارج و یک سرور ایران را به هم تانل کرده ایم و هر پرایوت ایپی در سرور ایران متعلق به یک سرور خارج میباشد .
- باید دقت کنیم که ایپی های درست را در ریورس تانل استفاده کنیم چون اگر برای ارتباط بین سرور آلمان و ایران از پرایوت ایپی های ترکیه استفاده شود، کانکشن برقرار نمیشود. پس لطفا این مورد را دقت کنید.
------------
- در این روش به جای اینکه برای هر پورت ایپی 6 جداگانه قرار بدهیم، به صورت اتوماتیک از لوکال ایپی استفاده میکنیم
- از لوکال ایپی به صورت اتوماتیک استفاده میشود و برای سرور ایران از پرایوت ایپی استفاده خواهیم کرد.
- لطفا برای سرور ایران، پرایوت ایپی مربوط به سرور آلمان را قرار دهید. به عبارتی در سرور ایران بسته به تعداد سرور خارج، تعداد زیادی پرایوت ایپی خواهیم داشت و هر کدام از این ها مربوط به یک سرور خارج میباشد. لطفا با آزمون و خطا این قسمت را تست کنید تا بهتر درک شود.
- در اینجا بوسیله روش دوم، کانفیگ سرور دوم خارج (آلمان) را انجام میدهیم
- من دو کانفیگ vmess در سرور المان دارم و پورت های آن 8080 و 8081 میباشد
- چون دو پورت دارم و میخواهم هر دو پورت را به یک سرور ایران لود بالانس کنم ، پس تعداد 2 را برای لود بالانس انتخاب میکنم که 2 گروه برای من بسازد
-  چون سرور دوم من سرور آلمان میباشد پس مقدار Starting v2ray number عدد 3 میباشد.
-  مانند مثال بالا که توضیح دادم ، چون دو عدد کانفیگ دارم، دو گروه لود بالانس ایجاد میکنیم و برای همین مقدار Starting v2ray number برای سرور سوم ( اگر دارید) مقدار 5 میباشد که در اسکرین شات هم مشخص است.

----------------------
 ![7115070](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/637973f2-5968-4a01-bec7-9068dfadcb3b)
**5 سرور ایران و 1 سرور خارج**
  ---



- نخست ازطریق این [اینک](https://github.com/Azumi67/6TO4-PrivateIP_multipleSERVERS) اقدام به ساخت پرایوت ایپی بین 2 سرور ایران و 1 سرور خارج نمایید
- من در این آموزش از 2 سرور ایران و یک سرور خارج استفاده کردم
- سرور خارج من، سرور ترکیه میباشد
- سرور اول ایران، سرور امین و سرور دوم، سرور شاتل میباشد.
-----

![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور خارج**

 


 <p align="right">
  <img src="https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/eedfceb3-fe05-4772-a0c3-ec57fb6fc2e8" alt="Image" />
</p>

- همیشه کانفیگ تانل را از سرور خارج شروع نمایید
- پس از کانفیگ سرور خارج، باید هر سرور ایران را جداگانه کنفیگ کنیم
- در اینجا سرور خارج ، سرور ترکیه میباشد
- سرورهای ایران من، امین و شاتل هستند.
- سرور خارج برای تمامی سرور های ایران یکسان است چون تانل 2 سرور ایران و 1 سرور خارج میباشد
- خب حالا به سراغ کانفیگ سرور خارج  را میرویم.
- تعداد سرور ایرانی که دارید را وارد نمایید. من دو عدد سرور ایران داشتم
- سرور ایران اول (امین) و سرور خارج دوم ( شاتل) را وارد میکنیم و برای سرور خارج، ایپی سرور ترکیه را قرار میدهیم.
- تعداد ایپی که برای هر سرور نیاز دارید را وارد نمایید. 2 عدد کافی است
- برای اینکه cronjob برای سرور های شما ساخته شود، تعداد سرور ها را با فاصله وارد نمایید. به طور مثال اگر 2 سرور ایران دارید اینگونه وارد نمایید ( 2 1 )
- اگر تعداد بالاتری سرورایران دارید (به طور مثال 4)، باید تعداد سرور ها برای ساخت cronjob را اینگونه بنویسیم (4 3 2 1)
- ایپی های ساخته شده را داخل notepad برای لودبالانس و ریورس تانل یادداشت نمایید
- تعداد ایپی هایی که میخواهید را وارد نمایید
- ایپی های ساخته شده را در notepad برای لود بالانس و ریورس تانل یادداشت کنید
- دقت کنید چون 2 سرور ایران و یک سرور خارج میباشد، شما دو ایپی پرایوت متفاوت برای هر سرور ایران دارید.
- به طور مثال برای سرور اول ایران (امین) در سرور خارج(ترکیه)، یک پرایوت ایپی داریم و برای سرور دوم (شاتل) در سرور خارج(ترکیه) ، پرایوت ایپی متفاوتی داریم.
- شما میتوانید با دستور ip a این پرایوت ایپی ها را مشاهده کنید.
- شما باید تمام این ایپی ها را در notepad یادداشت کنید و جلوتر به شما نشان میدهم.

----------------------

![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/49000de2-53b6-4c5c-888d-f1f397d77b92)**سرور ایران 1**


<p align="right">
  <img src="https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/143f1dd2-0c63-4f6a-9b40-0034eabefb35" alt="Image" />
</p>
 <div dir="rtl">&bull; حالا باید برای هر سرور ایران، کانفیگ را جداگانه انجام دهیم</div>
 <div dir="rtl">&bull; مثلا برای سرور یک ایران در عکس قبل از ایپی سرور امین استفاده کردیم، پس باید اینجا هم برای سرور یک ایران از سرور امین استفاده نماییم</div>
  <div dir="rtl">&bull; سرور خارج برای تمامی سرور های ایران یکسان است چون تانل 2 سرور ایران و 1 سرور خارج میباشد</div>
   <div dir="rtl">&bull; تعداد ایپی هایی که میخواهید را وارد نمایید</div>

--------------------------------------
![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/c14c77ec-dc4e-4c8a-bdc2-4dc4e42a1815)**سرور ایران 2**


<p align="right">
  <img src="https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/3bae7757-360b-4460-bd2b-adbbcfaad8d0" alt="Image" />
</p>
 <div dir="rtl">&bull; ایپی سرور دوم ایران (شاتل) را وارد نمایید</div>
  <div dir="rtl">&bull; سرور خارج برای تمامی سرور های خارج یکسان میباشد</div>
   <div dir="rtl">&bull; تعداد ایپی که میخواهید را وارد نمایید</div>
    <div dir="rtl">&bull; اگر سرور سوم ایران دارید، مانند نمونه کانفیگ را انجام دهید</div>
     <div dir="rtl">&bull; برای حذف تانل ها از قسمت مربوطه اقدام به حذف تانل نمایید</div>


---------------------------------
![OIP2 (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3ec2f05f-3308-4441-8cce-62ab4776f4e2)
ریورس تانل با لود بالانس - 3 سرور ایران | 1 سرور خارج [ استفاده از پرایوت ایپی و Native IPV6 ]
--------------

![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور اول ایران** 
---

**مسیر : گزینه 5 [LoadBalancer [1] Kharej [3] IRAN] > سرور ایران > سرور ایران اول**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/7451f393-2d76-4829-aef2-a1b3c0821830" alt="Image" />
</p>

- من دو سرور ایران و یک سرور خارج (ترکیه) دارم. در سرور خارج، من دو کانفیگ با پورت های متفاوت دارم. میخواهم لود بالانس را بین دو سرور ایران و یک سرور خارج پیاده سازی کنم. بدین صورت، تمام کانفیگ های خارج من هم زمان با دو سرور ایرانم کار خواهد کرد.
- سرور ایران اول (امین) و سرور دوم شاتل میباشد
- پورت های کانفیگ های سرور خارج من 8080 و 8081 میباشد.
- نخست کانفیگ تانل را از سرور ایران آغاز میکنیم.
- چون تعداد پورت ها بالا است از پورت رنج استفاده میکنیم.
- در قسمت لوکال پورت اینگونه پورت ها را قرار میدهیم >8080,8081
- و در قسمت ریموت پورت، بدین صورت آنها را وارد میکنیم > 8080,8081
- ازانجا که تعداد پورت ها به خاطر تعدد بالای سرور خارج، بیش از اندازه میباشد، من از پورت های یکسان برای لوکال و ریموت استفاده کردم . شما میتوانید از پورت های متفاوت استفاده کنید.
- شما میتوانید همچنین از ساب دامین که پشتش ایپی 4 ایران مربوطه میباشد، در قسمت ادرس کلاینت v2rayng استفاده نمایید.
- لطفا مانند سرور اول ، سرور دوم هم کانفیگ کنید . من از آن رد میشوم. 

-------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/0331921a-91cf-407f-aebc-3742ff8b5c85)
 **سرور خارج (ترکیه) روش اول IPV6 و پرایوت ایپی** 
--
**مسیر : گزینه 5 [LoadBalancer [1] Kharej [3] IRAN] > سرور خارج > روش ایپی 6**


<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/ccfc3dd4-c329-46f4-a41b-39ccaee3f57c" alt="Image" />
</p>


-----
- **ایپی های پرایوت سرور خارج و ایران (امین) و (شاتل)**
- در سرور خارج ، پرایوت ایپی های سرور امین عبارت است از : fd1d:fc98:b73e:b481::1 و fd1d:fc98:b73e:b482::1
- در سرور خارج ، پرایوت ایپی های سرور شاتل عبارت است از : fd1d:fc98:b73e:b381::1 و fd1d:fc98:b73e:b382::1
- ایپی های پرایوت سرور امین : fd1d:fc98:b73e:b481::2 و fd1d:fc98:b73e:b482::2
- ایپی پرایوت های سرور شاتل : fd1d:fc98:b73e:b381::2 و fd1d:fc98:b73e:b382::2
- چرا در سرور خارج باز هم از عبارت پرایوت ایپی های سرور ایران استفاده شده ؟ زیرا 2 سرور ایران و یک سرور اخارج را به هم تانل کرده ایم و هر پرایوت ایپی در سرور خارج متعلق به یک سرور ایران میباشد
- باید دقت کنیم که ایپی های درست را در ریورس تانل استفاده کنیم.
- اما دراینجا تنها با ایپی پرایوت های سرور ایران کار دارم و با ایپی پرایوت هایی که در سرور خارج میباشد، کاری ندارم. ازشون استفاده ای نمیکنم
 
----



- سرور ایران اول (امین) و سرور دوم (شاتل) میباشد و از ایپی پرایوت برای تانل و از Native IPV6 برای لودبالانس استفاده میکنم . ایپی های سرور ایران را بر طبق پرایوت ایپی های بالا که ساختیم، وارد میکنم.
- من دو کانفیگ vmess با پورت های 8080 و 8081 در سرور خارج دارم
- پورت های کانفیگ های سرور خارج من 8080 و 8081 میباشد.
- نخست از من سوال میشود که چه تعداد سرور ایران دارم. من عدد 2 را وارد میکنم چون دو عدد سرور ایران دارم
- سپس از من سوال میشود که چه تعداد گروه لود بالانس میخواهم. من چون دو عدد کانفیگ با پورت های متفاوت دارم، پس دو گروه لودبالانس را انتخاب میکنم که اختلالی در کانفیگ ها به وجود نیاید.
- سپس کانفیگ سرور اول ایران شروع میشود.
- شما باید ایپی سرور ایران خود را بدهید. من ایپی پرایوت سرور ایرانم را میدهم. سرور اول ایران من سرور امین میباشد.
- سپس باید پورت های کانفیگ را مشخص کنم. پورت کانفیگ اول من 8080 میباشد. پس برای لوکال و ریموت از پورت 8080 استفاده میکنم.
- سپس بار دیگر سوال میشود که چه تعداد ایپی 6 برای هر گروه لود بالانس میخواهم. من یک عدد ایپی 6، انتخاب کردم . شما میتوانید 2 عدد ایپی 6 برای هر گروه انتخاب نمایید
- برای افزودن Native ایپی 6 در سرور خارج، میتوانید از این [اسکریپت](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT) استفاده نمایید. ( لطفا طبق آموزش اقدام به افزودن ایپی 6 در سرور خارج نمایید)
- در گام بعدی، چون من دو گروه لود بالانس ساخته بودم، از من میخواهد که پورت های کانفیگ دومم را هم وارد کنم
- برای گروه دوم، من از پورت کانفیگ دومم که 8081 میباشد استفاده میکنم و مانند اسکرین شات، آنها را وارد میکنم.
- سپس از من سوال میکند که ایپی 6 سرور خارجم را برای گروه دوم هم وارد نمایم. از ایپی 6 متفاوتی استفاده میکنم که مانند ایپی 6 در گروه اول نباشد.
- چون من تنها یک ایپی 6 برای هر گروه درخواست نمودم، برای همین برای هر گروه تنها، یک ایپی 6 وارد میکنم. اگر شما عدد 2 را وارد کردید ، باید دو ایپی 6 برای هر گروه وارد کنید.
- سپس کانفیگ سرور دوم ایران شروع میشود و تمام کارهایی که برای سرور اول ایران کردید ، همان را برای سرور دوم ایران انجام دهید تنها با این تفاوت که ایپی سرور دوم ایران ؛ ایپی پرایوت شاتل خواهد بود.
- مانند اسکرین شات عمل کنید.

-------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/0331921a-91cf-407f-aebc-3742ff8b5c85)
 **سرور خارج روش دوم لوکال ایپی** 
--
**مسیر : گزینه 5 [LoadBalancer [1] Kharej [3] IRAN] > سرور خارج > لوکال ایپی**

-----

- **ایپی های پرایوت سرور خارج و ایران (امین) و (شاتل)**
- ایپی های پرایوت سرور امین : fd1d:fc98:b73e:b481::2 و fd1d:fc98:b73e:b482::2
- ایپی پرایوت های سرور شاتل : fd1d:fc98:b73e:b381::2 و fd1d:fc98:b73e:b382::2
- باید دقت کنیم که ایپی های درست را در ریورس تانل استفاده کنیم.
 
----


<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/e6de0613-5b68-465b-b40a-f12717f6825e" alt="Image" />
</p>


- من دو سرور ایران و یک سرور خارج (ترکیه) دارم. در سرور خارج، من دو کانفیگ با پورت های متفاوت دارم. میخواهم لود بالانس را بین دو سرور ایران و یک سرور خارج پیاده سازی کنم. بدین صورت، تمام کانفیگ های خارج من هم زمان با دو سرور ایرانم کار خواهد کرد.
- در این روش دیگر نیازی نیست برای هر گروه لود بالانس از یک یا دو ایپی 6 استفاده کرد. برای هر گروه به صورت اتوماتیک از لوکال ایپی استفاده میشود.
- سرور ایران اول (امین) و سرور دوم (شاتل) میباشد و از ایپی پرایوت برای تانل استفاده میکنم.بالاتر پرایوت ایپی های سرور ایران را قرار داده ام.
- من دو کانفیگ vmess با پورت های 8080 و 8081 در سرور خارج دارم
- پورت های کانفیگ های سرور خارج من 8080 و 8081 میباشد.
- نخست از من سوال میشود که چه تعداد سرور ایران دارم. من عدد 2 را وارد میکنم چون دو عدد سرور ایران دارم
- سپس از من سوال میشود که چه تعداد گروه لود بالانس میخواهم. من چون دو عدد کانفیگ با پورت های متفاوت دارم، پس دو گروه لودبالانس را انتخاب میکنم که اختلالی در کانفیگ ها به وجود نیاید.
- سپس کانفیگ سرور اول ایران شروع میشود.
- شما باید ایپی سرور ایران خود را بدهید. من ایپی پرایوت سرور ایرانم را میدهم. سرور اول ایران من، سرور امین میباشد.
- سپس باید پورت های کانفیگ را مشخص کنم. پورت کانفیگ اول من 8080 میباشد. پس برای لوکال و ریموت از پورت 8080 استفاده میکنم.
- در گام بعدی، چون من دو گروه لود بالانس ساخته بودم، از من میخواهد که پورت های کانفیگ دومم را هم وارد کنم
- برای گروه دوم، من از پورت کانفیگ دومم که 8081 میباشد استفاده میکنم و مانند اسکرین شات، آنها را وارد میکنم.
- سپس کانفیگ سرور دوم ایران شروع میشود و تمام کارهایی که برای سرور اول ایران کردید ، همان را برای سرور دوم ایران انجام دهید تنها با این تفاوت که ایپی پرایوت سرور دوم ایران ؛ ایپی پرایوت ادرس شاتل خواهد بود. 
  
---------------------------------

**اسکرین شات**

<details>
  <summary align="right">Click to reveal image</summary>
  
  <p align="right">
    <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/990eefde-f65b-4296-80db-4740aca44b23" alt="menu screen" />
  </p>
</details>


------------------------------------------
![scri](https://github.com/Azumi67/FRP-V2ray-Loadbalance/assets/119934376/cbfb72ac-eff1-46df-b5e5-a3930a4a6651)
**اسکریپت های کارآمد :**
--
- این اسکریپت ها optional میباشد.


 
 Opiran Script
```
apt install curl -y && bash <(curl -s https://raw.githubusercontent.com/opiran-club/VPS-Optimizer/main/optimizer.sh --ipv4)
```

Hawshemi script

```
wget "https://raw.githubusercontent.com/hawshemi/Linux-Optimizer/main/linux-optimizer.sh" -O linux-optimizer.sh && chmod +x linux-optimizer.sh && bash linux-optimizer.sh
```

<div dir="rtl">&bull; اضافه کردن ایپی 6 اضافه</div>
 
  
```
bash <(curl -s -L https://raw.githubusercontent.com/opiran-club/softether/main/opiran-seth)
```
-----------------------------------------------------
![R (a2)](https://github.com/Azumi67/PrivateIP-Tunnel/assets/119934376/716fd45e-635c-4796-b8cf-856024e5b2b2)
**اسکریپت من**
----------------



```
apt install python3 -y && apt install wget -y && sudo apt install python3-pip &&  pip install colorama && pip install netifaces && apt install curl -y && python3 <(curl -Ls https://raw.githubusercontent.com/Azumi67/FRP_Reverse_Loadbalance/main/loadbalance.py --ipv4)
```

- اگر با دستور بالا نتوانستید اسکریپت را اجرا کنید، نخست دستور زیر را اجرا نمایید و سپس دستور اول را دوباره اجرا کنید.
- 
```
sudo apt-get install python-pip -y  &&  apt-get install python3 -y && alias python=python3 && python -m pip install colorama && python -m pip install netifaces
```
--------------------------------------
 <div dir="rtl">&bull;  دستور زیر برای کسانی هست که پیش نیاز ها را در سرور، نصب شده دارند</div>
 
```
python3 <(curl -Ls https://raw.githubusercontent.com/Azumi67/FRP_Reverse_Loadbalance/main/loadbalance.py --ipv4)
```
--------------------------------------
 <div dir="rtl">&bull; اگر سرور شما خطای externally-managed-environment داد از دستور زیر اقدام به اجرای اسکریپت نمایید.</div>
 
```
bash <(curl -s -L https://raw.githubusercontent.com/Azumi67/V2ray_loadbalance_multipleServers/main/managed2.sh)
```

---------------------------------
![R23 (1)](https://github.com/Azumi67/FRP-V2ray-Loadbalance/assets/119934376/18d12405-d354-48ac-9084-fff98d61d91c)
**سورس ها**
-


![R (9)](https://github.com/Azumi67/FRP-V2ray-Loadbalance/assets/119934376/33388f7b-f1ab-4847-9e9b-e8b39d75deaa) [سورس های FRP](https://github.com/opiran-club)

![R (9)](https://github.com/Azumi67/FRP-V2ray-Loadbalance/assets/119934376/33388f7b-f1ab-4847-9e9b-e8b39d75deaa) [سورس های OPIRAN](https://github.com/opiran-club)

![R (9)](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT/assets/119934376/4758a7da-ab54-4a0a-a5a6-5f895092f527)[سورس های Hwashemi](https://github.com/hawshemi/Linux-Optimizer)



-----------------------------------------------------

