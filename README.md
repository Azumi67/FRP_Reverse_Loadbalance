![R (2)](https://github.com/Azumi67/PrivateIP-Tunnel/assets/119934376/a064577c-9302-4f43-b3bf-3d4f84245a6f)
نام پروژه : لود بالانس V2ray با قابلیت ریورس تانل :
[ امکان لودبالانس بین 5 سرور خارج و 1 سرور ایران | 3 سرور ایران و 1 سرور خارج ]
---------------------------------------------------------------
![competed-task-list-5169136-4334496](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/c5b1d05a-d9b0-468b-9278-ed8336c01ca9)
 **فهرست**

- دسترسی سریع به اسکریپت **[کلیک]()**
- امکانات **[کلیک]()**
- ریورس تانل بدون لود بالانس **[کلیک]()**
-  ریورس تانل با لود بالانس : تک سرور **[کلیک]()**
-  لود بالانس 5 سرور خارج 1 سرور ایران **[کلیک]()**


----------------------------------
**توضیح کوتاه:**

-----------------------
- لطفا تمام اموزش را بخوانید و با آزمون و خطا ریورس تانل و لودبالانس را پیاده سازی کنید.
- زمان میبرد تا من اموزش را کامل کنم چون درگیر درس هم هستم. 

------------------------
![check](https://github.com/Azumi67/PrivateIP-Tunnel/assets/119934376/13de8d36-dcfe-498b-9d99-440049c0cf14)
**امکانات**
---------------------

- ریورس تانل بر روی تک پورت و چندین پورت
- لود بالانس بر روی تک سرور - تک پورت و چندین پورت
- لود بالانس 5 سرور خارج و 1 سرور ایران - تک پورت و چندین پورت [ امکان استفاده از Native IPV6 یا Private IP ]
- امکان لود بالانس با دو روش متفاوت : 1) با استفاده از لوکال ایپی سرور 2) با استفاده از ایپی 6 به ازای هر پورت و گروه لود بالانس
- لود بالانس 3 سرور ایران و 1 سرور خارج - تک پورت و چندین پورت [ امکان استفاده از Native IPV6 یا Private IP ]
- امکان استفاده از پورت رنج در سرور ایران
- دارای داشبورد با ساب دامین و نام کاربری و رمز عبور دلخواه
- امکان استفاده از ریورس تانل بدون داشبود
- امکان استفاده از تانل بروکر و Native IPV6 و Private IP در لودبالانس | ریورس تانل
- مشاهده تمامی سرویس ها
- امکان Start | Stop سرویس ها و حذف آنها در صورت نیاز

--------------------------

 

![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/Haproxy_TCP_loadbalance/assets/119934376/a462de6d-be16-46dc-aaa8-c21a4c6df669) **نکات**

- اگر میخواهید از پرایوت ایپی به جای Native IPV6 استفاده کنید و هم زمان به 5 سرور خارج و 1 سرور ایران و یا برعکس تانل برنید و سپس از ایپی های ساخته شده در ریورس تانل و لودبالانس FRP استفاده کنید به [اینجا](https://github.com/Azumi67/6TO4-PrivateIP) مراجعه کنید و پس از انجام آن به مطالعه این آموزش بپردازید.
- خب Native IPV6 چیست ؟ به زبان ساده و در باب تاپیک، ایپی 6 ای که دیتاسنتر به شما داده است. برای اطلاعات بیشتر لطفا در گوگل مطالعه بفرمایید.

 
 ------------------------------------------------------
  
  ![6348248](https://github.com/Azumi67/PrivateIP-Tunnel/assets/119934376/398f8b07-65be-472e-9821-631f7b70f783)
**آموزش**

- نخست FRP را بر روی سرور خود نصب نمایید. سپس در صورت تمایل از اسکریپت optimizer استفاده نمایید.
- در این آموزش من با دو روش Native IPV6 و Private IP ریورس تانل | لودبالانس را انجام داده ام. میتوانید حتی از تانل بروکر برای سرور ایرانتان استفاده نمایید.
- اگر سرور ایران Native IPV6 ندارد و نمیخواهید از 6to4 پرایوت ایپی استفاده نمایید ، میتوانید در این روش، برای سرور ایران به جای Native IPV6 از تانل بروکر استفاده نمایید
- همیشه در این تانل کانفیگ را از سرور ایران شروع نمایید و سپس سرور خارج
- اگر نیازی به داشبورد ندارید از گزینه بدون داشبورد استفاده نمایید.
----------------------------------
 ![OIP2 (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3ec2f05f-3308-4441-8cce-62ab4776f4e2)
ریورس تانل بدون لود بالانس [ تک پورت یا چندین پورت ]
-----------

![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور ایران** 

 <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/1f174591-e781-4d20-a99a-104cfb626039" alt="Image" />
</p>
<div dir="rtl">&bull; مسیر : گزینه دوم (TCP Tunnel) >> سرور ایران >> داشبورد </div>
<div dir="rtl">&bull; من در این تانل یک سرور خارج با دو کانفیگ vmess و پورت های 8080 و 8081 دارم و میخواهم ریورس تانل انجام بدم</div>
<div dir="rtl">&bull; در اینجا به شما کانفیگ سرور ایران با داشبورد را نشان میدم.</div>
<div dir="rtl">&bull; ساب دامین خود با ایمیل خود را وارد نمایید ، پس از دریافت Certificate، پورت های لوکال و ریموت را میدیم</div>
<div dir="rtl">&bull; پورت لوکال پورت داخل سرور و پورت ریموت پورت خارج از سرور میباشد</div>
<div dir="rtl">&bull; پورت های کانفیگ من 8080 و 8081 بود پس در سرور ایران برای local_port = 8080,8081 و برای remote_port = 8080,8081 میذارم.</div>
<div dir="rtl">&bull; برای پورت رنج از [,] استفاده نمایید مانند مثال بالا</div>
<div dir="rtl">&bull; نام کاربری، رمز عبور و پورت داشبورد خود را وارد نمایید</div>
<div dir="rtl">&bull; در آخر میتوانید از طریق لینکی که به شما داده میشود، به داشبورد ریورس تانل خود وارد شوید.
</div>



----------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/1e153227-3adb-4b8e-8b89-792a77ce8227) **سرور خارج روش اول - استفاده از IPV6**



<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/943b5521-2985-46ed-814c-92c158a16891" alt="Image" />
</p>

-<div dir="rtl" style="text-align: right;">
&#8226; مسیر : گزینه دوم (TCP TUNNEL) - سرور خارج  Method1
</div>
<div dir="rtl" style="text-align: right;">
&#8226;  در روش اول از ای ایپی 6 برای هر پورت استفاده میکنم. من دو کانفیگ vmess با پورت های 8080 و 8081 دارم و برای هر پورت از یک ایپی 6 سرور خارجم استفاده خواهم کرد 
</div>
<div dir="rtl" style="text-align: right;">
&#8226;چون دو کانفیگ دارم، از دو ایپی 6 استفاده میکتم. به عبارتی برای هر پورت از یک ایپی 6 سرور خارج استفاده میکتم
</div>
<div dir="rtl" style="text-align: right;">
&#8226;ایپی 6 سرور ایران را قرار میدهیم. میتواند Native IPV6 یا تانل بروکر باشد
</div>
</div>
<div dir="rtl" style="text-align: right;">
&#8226;لوکال پورت، پورت داخل سرور و ریموت پورت، پورت خارج از سرور میباشد
</div>
</div>
<div dir="rtl" style="text-align: right;">
&#8226;به طور مثال من از پورت یکسان برای لوکال و ریموت استفاده کردم
</div>
<div dir="rtl" style="text-align: right;">
&#8226;توضیح اضافی : شما حتی میتوانید از پورت 8080 برای لوکال و پورت دیگری مانند 8082 برای ریموت استفاده نمایید که بدین صورت پورت جدید شما 8082 خواهد بود
</div>

  

  ![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT/assets/119934376/1b367bc9-aaed-4a8d-84a6-a2a1fc31b831) 
  **اگر میخواید به تعداد ایپی 6 خارج خودتان بیافزایید به این لینک مراجعه کنید :** https://github.com/Azumi67/6TO4-GRE-IPIP-SIT
  
  - در این روش از Native IPV6 برای سرور خارج و ایران استفاده کردم. میتوانید از Native IPV6 سرور خارج استفاده نمایید و در سرور ایران در صورت نداشتن ایپی 6، از تانل بروکر استفاده نمایید.
 

----------------------
![green-dot-clipart-3](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3d6fa37c-2c7b-4bfb-be8f-76669e54118e) **سرور خارج روش دوم : استفاده از لوکال ایپی**


**مسیر : گزینه 2 [TCP Tunnel] > سرور خارج > روش لوکال ایپی**


<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/8a14b6bb-d292-459e-99f0-f80dae294a37" alt="Image" />
</p>

 - در این روش، دیگر نیازی نیست که به ازای هر پورت ازیک ایپی 6 استفاده کنیم
 - من دو کانفیگ vmess با پورت های 8080 و 8081 دارم پس باید تعداد کانفیگ را 2 انتخاب کنم پون میخوام برای هر دو کانفیگ، تانل را پیاده سازی کنم
 - برای کانفیگ اول، لوکال وریموت پورت را وارد میکنم که در اینجا پورت 8080 میباشد. (من از پورت یکسان استفاده کردم)
 - برای کانفیگ دوم، لوکال و ریموت پورت را وارد میکنم که در اینجا پورت 8081 میباشد
 - حالا در کلاینت v2ray برای هر کانفیگ به جای ادرس، ایپی 4 ایران و پورت های مربوطه را جایگذاری میکنم
--------------------------------------

 ![OIP2 (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3ec2f05f-3308-4441-8cce-62ab4776f4e2)
ریورس تانل با لود بالانس - تک سرور [ تک پورت یا چندین پورت ]
------------

![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور ایران** 


**مسیر : گزینه 3 [Single Loadbalance] > سرور ایران > بدون داشبورد**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/be3524c9-a72f-44ad-b9a4-64df9c2cced2" alt="Image" />
</p>

- از سرور ایران بدون داشبود استفاده کردم
- من دو کانفیگ با پورت های 8080 و 8081 دارم و در سرور ایران از پورت رنج استفاده میکنم
- بدین صورت به جای لوکال و ریموت پورت از 8080,8081 استفاده میکنم
- برای پورت رنج از کاما , استفاده نمایید.
----------------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/bb9bd866-6e94-4513-8afb-0f31051e06a5) **سرور خارج روش اول - استفاده از IPV6**


**مسیر : گزینه 3 [Single Loadbalance] > سرور خارج > روش ایپی 6**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/63def210-be0f-42d8-9bbb-ec1e9fe77e6f" alt="Image" />
</p>

- در این روش لود بالانس را بر روی یک سرور خارج و یک سرور ایران را پیاده سازی میکنیم
- در این روش برای هر پورت میتوان از یک یا تعداد بیشتری ایپی 6 سرور خارج، برای لود بالانس استفاده نمود
- همچنین هر پورت را در گروه جداگانه قرار میدهیم که اختلالی در لودبالانس ایجاد ننماید
- به طور مثال : من دو کانفیگ vmess با پورت های 8080 و 8081 دارم . چون دو پورت دارم و میخواهم لود بالانس هم انجام بدم، پس گروه لودبالانس را 2 انتخاب میکنم که دو گروه ساخته شود
- سپس باید برای هر گروه، تعداد ایپی 6 ای که نیاز دارم را وارد کنم که من عدد 1 را وارد کردم. شما اگر برای هر پورت تعداد بیشتری نیاز دارید، میتوانید تعداد بیشتری ایپی 6، وارد نمایید
- پس چون دو پورت متفاوت دارم ، تعداد گروه لود بالانس را 2 انتخاب میکنم و برای هر گروه لود بالانس از یک ایپی 6 سرور خارج استفاده میکنم.
- برای گروه یک پورت لوکال و ریموت را 8080 قرار میدم و یک ایپی 6 سرور خارج را وارد مینمایم
- برای گروه دوم، پورت لوکال و ریموت را 8081 قرار میدم و یک ایپی 6 دیگری از سرور خارج را وارد مینمایم
 
![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/61361800-0049-412b-a5b3-4c88f1faf01a) **توجه**

- برای افزودن native ipv6 به سرور خارجتان میتوانید از [اینجا](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT) اموزش را دنبال کنید و ایپی 6 بیافزایید.
- این لود بالانس بر روی تک سرور خارج و تک سرور ایران میباشد. در این لود بالانس، میتوان کانفیگ های متفاوت را با ایپی 6 های جداگانه استفاده نمود که بالاتر مثالش رو نوشتم
- حتما نیاز نیست که پورت لوکال و ریموت یکسان باشد. بیشتر برای اینکه تعداد پورت ها در صورت تعدد بالای کانفیگ ها، بیش از یک مقداری نباشد از پورت یکسان استفاده نمودم.
- به طور مثال شما اگر 5 کانفیگ متفاوت با 5 پورت متفاوت دارید، اگر پورت لوکال و ریموت یکسان نباشد، شما 5 پورت برای لوکال و 5 پورت برای ریموت باید باز کنید که تعداد بالایی هست و برای همین از یک پورت یکسان استفاده نمودم
- اگر تنها از یک پورت استفاده میکنید هم میتوانید لود بالانس را انجام بدهید. تعداد گروه لودبالانس را 1 انتخاب کنید و به طور مثال از 3 یا بیشتر ایپی 6 سرور خارج برای اون گروه لود بالنس استفاده نمایید.
- این طوری شما 3 ایپی 6 دارید که با tcp health check بررسی میشوند.
- اگر کمی گیج کننده بود ، با ازمون و خطا و مطالعه دوباره ، میتوانید لود بالانس را پیاده سازی کنید.
-  **در این روش از Native IPV6 برای سرور خارج و ایران استفاده کردم. میتوانید از Native IPV6 سرور خارج استفاده نمایید و در سرور ایران در صورت نداشتن ایپی 6، از تانل بروکر استفاده نمایید.**

--------------------------
![green-dot-clipart-3](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3d6fa37c-2c7b-4bfb-be8f-76669e54118e) **سرور خارج روش دوم : استفاده از لوکال ایپی**

**مسیر : گزینه 3 [Single Loadbalance] > سرور خارج > روش لوکال ایپی**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/dff4e44c-3a5d-4066-88c0-c2093454524c" alt="Image" />
</p>

- در این روش از لوکال ایپی به جای ایپی 6 استفاده میکنیم. پس فقط نیازه که تعداد گروه لود بالانس را انتخاب کنیم و برای هر گروه لوبالانس ، لوکال و ریموت پورت را وارد کنیم
- به طور مثال من دو کانفیگ vmess با پورت های متفاوت دارم. پس باید تعداد گروه لود بالانس را 2 انتخاب کنم. سپس پورت کانفیگ اول را در گروه اول و پورت کانفیگ دوم را در گروه دوم قرار میدهم.
- پورت کانفیگ اول 8080 میباشد و پورت کانفیگ دوم من 8081 است
- من از پورت یکسان برای لوکال و ریموت در هر گروه لودبالانس استفاده کردم. شما میتوانید پورت های متفاوت بدهید. به طور مثال برای کانفیگ اول : local_port : 8080 و remote_port : 8082

![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/61361800-0049-412b-a5b3-4c88f1faf01a) **توجه**
- اگر سرور ایران شما دارای Native IPV6 نمیباشد، میتوانید از تانل بروکر هم استفاده نمایید.

---------------------------------------
![OIP2 (1)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3ec2f05f-3308-4441-8cce-62ab4776f4e2)
ریورس تانل با لود بالانس - 5 سرور خارج | 1 سرور ایران [ تک پورت یا چندین پورت ]
--------------


![green-dot-clipart-3](https://github.com/Azumi67/6TO4-PrivateIP/assets/119934376/902a2efa-f48f-4048-bc2a-5be12143bef3) **سرور ایران** 

**مسیر : گزینه 4 [LoadBalancer [5] Kharej [1] IRAN] > سرور ایران > بدون داشبورد**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/e8a667c9-57ee-453e-96f7-65737848f220" alt="Image" />
</p>

- من دو سرور خارج دارم و هر کدام دو کانفیگ با پورت های متفاوت دارند. میخواهم لود بالانس را بین دو سرور خارج و یک سرور ایران پیاده سازی کنم. شما ازاین مثال برای نمونه استفاده نمایید.
- سرور خارج اول (المان) دو کانفیگ vmess با پورت های 8080 و 8081 دارد
- سرور خارج دوم (ترکیه) دو کانفیگ vmess با پورت های 8083 و 8084 دارد
- نخست کانفیگ تانل را از سرور ایران آغاز میکنیم.
- چون تعداد پورت ها بالا است از پورت رنج استفاده میکنیم. شما با دو مدل میتوانید از پورت رنج استفاده نمایید.
- در قسمت لوکال پورت اینگونه پورت ها را قرار میدهیم > 8080,8081,8083,8084
- و در قسمت ریموت پورت، بدین صورت آنها را وارد میکنیم. میتوانید مانند مثال بالا یا مانند مثال روبرو وارد کنید > 8084-8080
- ازانجا که تعداد پورت ها به خاطر تعدد بالای سرور خارج، بیش از اندازه میباشد، من از پورت های یکسان برای لوکال و ریموت استفاده کردم . شما میتوانید از پورت های متفاوت استفاده کنید.
- به طور مثال اگردر کانفیگ اول، پورت ما 8080 است . میتوانیم ریموت پورت را مقدار متفاوتی قرار دهیم. به طور مثال : local_port : 8080 و remote_port : 8085
- دقت کنید که اگر میخواهید کانفیگ اول vmess شما با ایپی 4 ایران کار کند، پس اگر پورت متفاوتی وارد کردید ، باید پورت هم تغییر دهید. به طور مثال پورت ما 8085 خواهد بود.
- این توضیحات برای کامل کردن اموزش میباشد و شما میتوانید آن را نادیده بگیرید و از پورت یکسان برای هر کانفیگ استفاده نمایید که دیگر نیازی به تغییر پورت در کلاینت v2rayng نباشد و تنها باید از ایپی 4 ایران در قسمت ادرس استفاده نمایید.
- شما میتوانید از ساب دامین که پشتش ایپی 4 ایران مزبوطه میباشد، در قسمت ادرس کلاینت v2rayng استفاده نمایید.
-  **در این روش از Native IPV6 برای سرور خارج و ایران استفاده کردم. میتوانید از Native IPV6 سرور خارج استفاده نمایید و در سرور ایران در صورت نداشتن ایپی 6، از تانل بروکر استفاده نمایید.**

-------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/bb9bd866-6e94-4513-8afb-0f31051e06a5) **سرور خارج اول (المان) روش اول - استفاده از IPV6**

**اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد استفاده نمایید**

**مسیر : گزینه 4 [LoadBalancer [5] Kharej [1] IRAN] > سرور خارج اول > روش ایپی 6**

<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/7bb850fe-d0c6-4a58-8c8c-92a6cdd74427" alt="Image" />
</p>


- سرور خارج اول (المان) را کانفیگ میکنیم . دو کانفیگ vmess با پورت های 8080 و 8081 داریم . میخواهیم بوسیله ایپی 6 های سرور خارج (المان) ، لود بالانس و ریورس تانل را برای هر دو کانفیگ به یک سرور ایران انجام دهیم.
- چون دو عدد کانفیگ vmess داریم ، تعداد لود بالانس را 2 قرار میدهیم تا دو گروه لود بالانس برای ما ایجاد شود.
- در این روش برای هر پورت میتوان از یک یا تعداد بیشتری ایپی 6 سرور خارج، برای لود بالانس استفاده نمود
- همچنین هر پورت را در گروه جداگانه قرار میدهیم که اختلالی در لودبالانس ایجاد ننماید
- به طور مثال : من دو کانفیگ vmess با پورت های 8080 و 8081 دارم . چون دو پورت دارم و میخواهم لود بالانس هم انجام بدم، پس گروه لودبالانس را 2 انتخاب میکنم که دو گروه ساخته شود
- سپس باید برای هر گروه، تعداد ایپی 6 ای که نیاز دارم را وارد کنم که من عدد 1 را وارد کردم. شما اگر برای هر پورت تعداد بیشتری نیاز دارید، میتوانید تعداد بیشتری ایپی 6، وارد نمایید
- پس نتیجه گیری میکنم که چون دو پورت متفاوت دارم ، تعداد گروه لود بالانس را 2 انتخاب میکنم و برای هر گروه لود بالانس از یک ایپی 6 سرور خارج استفاده میکنم.
- برای گروه یک پورت لوکال و ریموت را 8080 قرار میدم و یک ایپی 6 سرور خارج را وارد مینمایم
- برای گروه دوم، پورت لوکال و ریموت را 8081 قرار میدم و یک ایپی 6 دیگری از سرور خارج را وارد مینمایم
-  **در این روش از Native IPV6 برای سرور خارج و ایران استفاده کردم. میتوانید از Native IPV6 سرور خارج استفاده نمایید و در سرور ایران در صورت نداشتن ایپی 6، از تانل بروکر استفاده نمایید.**

------------------------

  **لطفا عکس زیر را نگاه کنید تا توضیحاتی در مورد Starting V2ray number بدم**
 

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/9181c2cf-0871-4a46-827b-f36a8ff384ad" alt="Image" />
</p>

- چون کانفیگ سرور اول (المان) میباشد ، شما باید مقدار Starting v2ray number را مقدار 1 وارد میکنیم چون سرور اغازین و همون اول میباشد
- خب من دو عدد کانفیگ در سرور خارج اول (المان) داشتم. پس دو عدد گروه لود بالانس ایجاد کردم و در هر گروه برای هر پورت به صورت جداگانه، از ایپی 6 های متفاوتی استفاده کردم.
- براساس اطلاعات بالا، مقدار Last V2ray number عدد 3 میباشد به این معنی که شما باید از عدد 3 برای کانفیگ سرور خارج دوم (ترکیه) استفاده نمایید.
- در آخر کانفیگ مانند اسکرینشات بالا، مقدار Last v2ray number را مشاهده می کنید. این عدد را باید از آن برای کانفیگ سرور خارج دوم، استفاده نمایید. به عبارتی اگر 2 عدد کانفیگ در سرور خارج اول دارید، مقدار Last v2ray number شما عدد 3 خواهد بود .
- بنابراین برای سرور دوم برای Starting v2ray number از مقدار 3 استفاده میکنیم.
- پس اگر سرور سوم و چهارم دارید میتوانید به کمک این عدد، مقدار درست Starting v2ray number را وارد نمایید. در غیر اینصورت لود بالانس کار نخواهد کرد.
- اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد استفاده نمایید.

 
![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/61361800-0049-412b-a5b3-4c88f1faf01a) **توجه**

- برای افزودن native ipv6 به سرور خارجتان میتوانید از [اینجا](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT) اموزش را دنبال کنید و ایپی 6 بیافزایید.
- اگر کمی گیج کننده بود ، با ازمون و خطا و مطالعه دوباره ، میتوانید لود بالانس را پیاده سازی کنید.
-------------------------
![green-dot-clipart-3](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/ae98a157-9520-46d0-afa6-93525a2f9d0a)**سرور خارج (المان) روش دوم - استفاده از لوکال ایپی**


**مسیر : گزینه 4 [LoadBalancer [5] Kharej [1] IRAN] > سرور خارج اول > روش لوکال ایپی**

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/018d1ccf-d374-49d5-a8af-b666516a7eae" alt="Image" />
</p>

- در این روش به جای اینکه برای هر پورت ایپی 6 جداگانه قرار بدهیم، به صورت اتوماتیک از لوکال ایپی استفاده میکنیم.
- در اینجا بوسیله روش دوم، کانفیگ سرور اول خارج (المان) را انجام میدهیم
- من دو کانفیگ vmess در سرور المان دارم و پورت های آن 8080 و 8081 میباشد
- چون دو پورت دارم و میخواهم هر دو پورت را به یک سرور ایران لود بالانس کنم ، پس تعداد 2 را برای لود بالانس انتخاب میکنم که 2 گروه برای من بسازد
- چون سرور اول من سرور المان میباشد پس مقدار Starting v2ray number عدد 1 میباشد.
-  مانند مثال بالا که توضیح دادم ، چون دو عدد کانفیگ دارم، دو گروه لود بالانس ایجاد میکنیم و برای همین مقدار Starting v2ray number برای سرور دوم (ترکیه)مقدار 3 میباشد
-  



  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/9181c2cf-0871-4a46-827b-f36a8ff384ad" alt="Image" />
</p>

- چون کانفیگ سرور اول (المان) میباشد ، شما باید مقدار Starting v2ray number را مقدار 1 وارد میکنیم چون سرور اغازین و همون اول میباشد
- خب من دو عدد کانفیگ در سرور خارج اول (المان) داشتم. پس دو عدد گروه لود بالانس ایجاد کردم.
- براساس اطلاعات بالا، مقدار Last V2ray number عدد 3 میباشد به این معنی که شما باید از عدد 3 برای کانفیگ سرور خارج دوم (ترکیه) استفاده نمایید.
- در آخر کانفیگ مانند اسکرین شات بالا، مقدار Last v2ray number را مشاهده می کنید. باید از این عدد در کانفیگ سرور خارج دوم، استفاده کرد. به عبارتی اگر 2 عدد کانفیگ در سرور خارج اول دارید، مقدار Last v2ray number شما عدد 3 خواهد بود .
- بنابراین برای سرور دوم برای Starting v2ray number از مقدار 3 استفاده میکنیم.
- پس اگر سرور سوم و چهارم دارید میتوانید به کمک این عدد، مقدار درست Starting v2ray number را وارد نمایید. در غیر اینصورت لود بالانس کار نخواهد کرد.

--------------------------
![R (10)](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/bb9bd866-6e94-4513-8afb-0f31051e06a5) **سرور خارج دوم (ترکیه) روش اول - استفاده از IPV6**

**اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد استفاده نمایید**

**مسیر : گزینه 4 [LoadBalancer [5] Kharej [1] IRAN] > سرور خارج دوم > روش ایپی 6**


<p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/7bb850fe-d0c6-4a58-8c8c-92a6cdd74427" alt="Image" />
</p>

- سرور ایران که قبلا کانفیگ شده است و فقط نیازاست که سرور های خارج کانفیگ شوند.
- سرور خارج دوم (ترکیه) را کانفیگ میکنیم . دو کانفیگ vmess با پورت های 8083 و 8084 داریم . میخواهیم بوسیله ایپی 6 های سرور خارج (ترکیه) ، لود بالانس و ریورس تانل را برای هر دو کانفیگ به یک سرور ایران انجام دهیم.
- چون دو عدد کانفیگ vmess داریم ، تعداد لود بالانس را 2 قرار میدهیم تا دو گروه لود بالانس برای ما ایجاد شود.
- در این روش برای هر پورت میتوان از یک یا تعداد بیشتری ایپی 6 سرور خارج، برای لود بالانس استفاده نمود
- همچنین هر پورت را در گروه جداگانه قرار میدهیم که اختلالی در لودبالانس ایجاد ننماید
- به طور مثال : من دو کانفیگ vmess با پورت های 8083 و 8084 دارم . چون دو پورت دارم و میخواهم لود بالانس هم انجام بدم، پس گروه لودبالانس را 2 انتخاب میکنم که دو گروه ساخته شود
- سپس باید برای هر گروه، تعداد ایپی 6 ای که نیاز دارم را وارد کنم که من عدد 1 را وارد کردم چون تنها به یک ایپی 6 نیاز دارم. شما اگر برای هر پورت تعداد بیشتری نیاز دارید، میتوانید تعداد بیشتری ایپی 6، وارد نمایید
- پس نتیجه گیری میکنم که چون دو پورت متفاوت دارم ، تعداد گروه لود بالانس را 2 انتخاب میکنم و برای هر گروه لود بالانس از یک ایپی 6 سرور خارج استفاده میکنم.
- برای گروه یک پورت لوکال و ریموت را 8083 قرار میدم و یک ایپی 6 سرور خارج (ترکیه) را وارد مینمایم
- برای گروه دوم، پورت لوکال و ریموت را 8084 قرار میدم و یک ایپی 6 دیگری از سرور خارج(ترکیه) را وارد مینمایم

------------------------

  **لطفا عکس زیر را نگاه کنید تا توضیحاتی در مورد Starting V2ray number بدم**
 

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3bea9f3c-e81b-48d8-8266-388bcf5b7cd4" alt="Image" />
</p>

- چون کانفیگ سرور دوم (ترکیه) میباشد ، بر طبق Last v2ray number که در کانفیگ سرور اول بدست اوردیم ، عدد 3 را برای Starting v2ray number انتخاب میکنیم.
- خب من دو عدد کانفیگ در سرور خارج دوم(ترکیه) داشتم. پس دو عدد گروه لود بالانس ایجاد کردم و در هر گروه برای هر پورت به صورت جداگانه، از ایپی 6 های متفاوتی استفاده کردم.
- براساس اطلاعات بالا، مقدار Last V2ray number عدد 5 میباشد چون شروع کانفیگ از عدد 3 بوده است و دو گروه لود بالانس داشتیم. با این حساب باید برای کانفیگ سرور سوم، از عدد 5 برای Starting v2ray number استفاده نماییم.
- این اسکرین شات در آخر هر کانفیگ سرور خارج به شما نمایش داده میشود.
- اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد و نیازی به ایپی 6 ندارد استفاده نمایید.

 
![Exclamation-Mark-PNG-Clipart](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/61361800-0049-412b-a5b3-4c88f1faf01a) **توجه**

- برای افزودن native ipv6 به سرور خارجتان میتوانید از [اینجا](https://github.com/Azumi67/6TO4-GRE-IPIP-SIT) اموزش را دنبال کنید و ایپی 6 بیافزایید.
- اگر کمی گیج کننده بود ، با ازمون و خطا و مطالعه دوباره ، میتوانید لود بالانس را پیاده سازی کنید.
-------------------------
![green-dot-clipart-3](https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/ae98a157-9520-46d0-afa6-93525a2f9d0a)**سرور خارج دوم (ترکیه) روش دوم - استفاده از لوکال ایپی**


**مسیر : گزینه 4 [LoadBalancer [5] Kharej [1] IRAN] > سرور خارج دوم > روش لوکال ایپی**

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/018d1ccf-d374-49d5-a8af-b666516a7eae" alt="Image" />
</p>

- در این روش به جای اینکه برای هر پورت ایپی 6 جداگانه قرار بدهیم، به صورت اتوماتیک از لوکال ایپی استفاده میکنیم.
- در اینجا بوسیله روش دوم، کانفیگ سرور دوم خارج (ترکیه) را انجام میدهیم
- من دو کانفیگ vmess در سرور ترکیه دارم و پورت های آن 8083 و 8084 میباشد
- چون دو پورت دارم و میخواهم هر دو پورت را به یک سرور ایران لود بالانس کنم ، پس تعداد 2 را برای لود بالانس انتخاب میکنم که 2 گروه برای من بسازد
- چون سرور دوم من سرور ترکیه میباشد بر طبق Last v2ray number که در سرور المان به دست اوردیم، آن عدد یعنی 3 را برای Starting v2ray number قرار میدهیم.
- پس مقدار Starting v2ray number عدد 3 خواهد بود.به همین صورت برای سرور های بعدی انجام میدهید.


**لطفا عکس زیر را نگاه کنید تا توضیحاتی در مورد Starting V2ray number بدم**
 

  <p align="right">
  <img src="https://github.com/Azumi67/V2ray_loadbalance_multipleServers/assets/119934376/3bea9f3c-e81b-48d8-8266-388bcf5b7cd4" alt="Image" />
</p>

- چون کانفیگ سرور دوم (ترکیه) میباشد ، بر طبق Last v2ray number که در کانفیگ سرور اول بدست اوردیم ، عدد 3 را برای Starting v2ray number انتخاب میکنیم.
- خب من دو عدد کانفیگ در سرور خارج دوم(ترکیه) داشتم. پس دو عدد گروه لود بالانس ایجاد کردم و در هر گروه برای هر پورت به صورت جداگانه، از ایپی 6 های متفاوتی استفاده کردم.
- براساس اطلاعات بالا، مقدار Last V2ray number عدد 5 میباشد چون شروع کانفیگ از عدد 3 بوده است و دو گروه لود بالانس داشتیم. با این حساب باید برای کانفیگ سرور سوم، از عدد 5 برای Starting v2ray number استفاده نماییم.
- این اسکرین شات در آخر هر کانفیگ سرور خارج به شما نمایش داده میشود.
- اگر این روش برای شما سخت است میتوانید از روش دوم که با لوکال ایپی میباشد و نیازی به ایپی 6 ندارد استفاده نمایید.
----------------------
ادامه دارد
